<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/jackc/pgx/v5/pgxpool</title>
<link href="../../../../../css/dark-v0.6.8.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.6.8.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>pgxpool</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-github.com/jackc/pgx/v5/pgxpool">github.com/jackc/pgx/v5/pgxpool</a><i> (on <a href="https://pkg.go.dev/github.com/jackc/pgx/v5/pgxpool" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/github.com/jackc/pgx/v5/pgxpool.html">11 packages</a>, and imported by <a href="../../../../../dep/github.com/jackc/pgx/v5/pgxpool.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/batch_results.go.html">batch_results.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html">conn.go</a></span>
	<input type='checkbox' checked class="fold" id="file-2-fold-content"><label for="file-2-fold-content">  <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/doc.go.html#doc">d</a> <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/doc.go.html">doc.go</a></label><span id='file-2-fold-content-items' class="fold-items">
<span class="md-text">		Package pgxpool is a concurrency-safe connection pool for pgx.
		
		pgxpool implements a nearly identical interface to pgx connections.
		
		Creating a Pool
		
		The primary way of creating a pool is with [pgxpool.New]:
		
		    pool, err := pgxpool.New(context.Background(), os.Getenv("DATABASE_URL"))
		
		The database connection string can be in URL or DSN format. PostgreSQL settings, pgx settings, and pool settings can be
		specified here. In addition, a config struct can be created by [ParseConfig].
		
		    config, err := pgxpool.ParseConfig(os.Getenv("DATABASE_URL"))
		    if err != nil {
		        // ...
		    }
		    config.AfterConnect = func(ctx context.Context, conn *pgx.Conn) error {
		        // do something with every new connection
		    }
		
		    pool, err := pgxpool.NewWithConfig(context.Background(), config)
		
		A pool returns without waiting for any connections to be established. Acquire a connection immediately after creating
		the pool to check if a connection can successfully be established.</span>
</span>
	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html">pool.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/rows.go.html">rows.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html">stat.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html">tx.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 5)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Config" data-popularity="360">	<input type='checkbox' class="fold" id="Config-fold-content"><label for="Config-fold-content"> type <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-104">Config</a> <i>(struct)</i></label><span id='Config-fold-content-docs' class="fold-docs">
<span class="md-text">		Config is the configuration struct for creating a pool. It must be created by [ParseConfig] and then it can be
		modified.</span>

		<input type='checkbox' class="fold" id="Config-fold-fields"><label for="Config-fold-fields">Fields (<i>total 12</i>)</label><span id='Config-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Config-fold-field-AfterConnect"><label for="Config-fold-field-AfterConnect"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-112">AfterConnect</a> <i>func(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a>) <a href="../../../../builtin.html#name-error">error</a></i></label><span id='Config-fold-field-AfterConnect-docs' class="fold-docs">
<span class="md-text">				AfterConnect is called after a connection is established, but before it is added to the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-AfterRelease"><label for="Config-fold-field-AfterRelease"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-121">AfterRelease</a> <i>func(*<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a>) <a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Config-fold-field-AfterRelease-docs' class="fold-docs">
<span class="md-text">				AfterRelease is called after a connection is released, but before it is returned to the pool. It must return true to
				return the connection to the pool or false to destroy the connection.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-BeforeAcquire"><label for="Config-fold-field-BeforeAcquire"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-117">BeforeAcquire</a> <i>func(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a>) <a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Config-fold-field-BeforeAcquire-docs' class="fold-docs">
<span class="md-text">				BeforeAcquire is called before a connection is acquired from the pool. It must return true to allow the
				acquisition or false to indicate that the connection should be destroyed and a different connection should be
				acquired.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-BeforeClose"><label for="Config-fold-field-BeforeClose"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-124">BeforeClose</a> <i>func(*<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a>)</i></label><span id='Config-fold-field-BeforeClose-docs' class="fold-docs">
<span class="md-text">				BeforeClose is called right before a connection is closed and removed from the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-BeforeConnect"><label for="Config-fold-field-BeforeConnect"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-109">BeforeConnect</a> <i>func(<a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-ConnConfig">ConnConfig</a>) <a href="../../../../builtin.html#name-error">error</a></i></label><span id='Config-fold-field-BeforeConnect-docs' class="fold-docs">
<span class="md-text">				BeforeConnect is called before a new connection is made. It is passed a copy of the underlying pgx.ConnConfig and
				will not impact any existing open connections.</span>
</span></span><span>
			<span class="nodocs"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-105">ConnConfig</a> <i>*<a href="../v5.html">pgx</a>.<a href="../v5.html#name-ConnConfig">ConnConfig</a></i></span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-HealthCheckPeriod"><label for="Config-fold-field-HealthCheckPeriod"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-145">HealthCheckPeriod</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='Config-fold-field-HealthCheckPeriod-docs' class="fold-docs">
<span class="md-text">				HealthCheckPeriod is the duration between checks of the health of idle connections.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-MaxConnIdleTime"><label for="Config-fold-field-MaxConnIdleTime"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-134">MaxConnIdleTime</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='Config-fold-field-MaxConnIdleTime-docs' class="fold-docs">
<span class="md-text">				MaxConnIdleTime is the duration after which an idle connection will be automatically closed by the health check.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-MaxConnLifetime"><label for="Config-fold-field-MaxConnLifetime"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-127">MaxConnLifetime</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='Config-fold-field-MaxConnLifetime-docs' class="fold-docs">
<span class="md-text">				MaxConnLifetime is the duration since creation after which a connection will be automatically closed.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-MaxConnLifetimeJitter"><label for="Config-fold-field-MaxConnLifetimeJitter"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-131">MaxConnLifetimeJitter</a> <i><a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></i></label><span id='Config-fold-field-MaxConnLifetimeJitter-docs' class="fold-docs">
<span class="md-text">				MaxConnLifetimeJitter is the duration after MaxConnLifetime to randomly decide to close a connection.
				This helps prevent all connections from being closed at the exact same time, starving the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-MaxConns"><label for="Config-fold-field-MaxConns"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-137">MaxConns</a> <i><a href="../../../../builtin.html#name-int32">int32</a></i></label><span id='Config-fold-field-MaxConns-docs' class="fold-docs">
<span class="md-text">				MaxConns is the maximum size of the pool. The default is the greater of 4 or runtime.NumCPU().</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-MinConns"><label for="Config-fold-field-MinConns"><a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-142">MinConns</a> <i><a href="../../../../builtin.html#name-int32">int32</a></i></label><span id='Config-fold-field-MinConns-docs' class="fold-docs">
<span class="md-text">				MinConns is the minimum size of the pool. After connection closes, the pool might dip below MinConns. A low
				number of MinConns might mean the pool is empty after MaxConnLifetime until the health check has a chance
				to create new connections.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Config-fold-methods"><label for="Config-fold-methods">Methods (<i>total 2</i>)</label><span id='Config-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Config-fold-method-ConnString"><label for="Config-fold-method-ConnString">(*Config) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-161">ConnString</a>() <a href="../../../../builtin.html#name-string">string</a></label><span id='Config-fold-method-ConnString-docs' class="fold-docs">
<span class="md-text">				ConnString returns the connection string as parsed by pgxpool.ParseConfig into pgxpool.Config.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-Copy"><label for="Config-fold-method-Copy">(*Config) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-153">Copy</a>() *<b>Config</b></label><span id='Config-fold-method-Copy-docs' class="fold-docs">
<span class="md-text">				Copy returns a deep copy of the config that is safe to use and modify.
				The only exception is the tls.Config:
				according to the tls.Config docs it must not be modified after creation.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Config-fold-results"><label for="Config-fold-results">As Outputs Of (<i>at least 3</i>)</label><span id='Config-fold-results-items' class="fold-items"><span>
			func <a href="#name-ParseConfig">ParseConfig</a>(connString <a href="../../../../builtin.html#name-string">string</a>) (*<b>Config</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func (*Config).<a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-153">Copy</a>() *<b>Config</b></span><span>
			func (*<a href="#name-Pool">Pool</a>).<a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-566">Config</a>() *<b>Config</b></span></span>
		<input type='checkbox' class="fold" id="Config-fold-params"><label for="Config-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Config-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewWithConfig">NewWithConfig</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, config *<b>Config</b>) (*<a href="#name-Pool">Pool</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>

</span></div><div class="anchor type-res" id="name-Conn" data-popularity="750">	<input type='checkbox' class="fold" id="Conn-fold-content"><label for="Conn-fold-content"> type <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-13">Conn</a> <i>(struct)</i></label><span id='Conn-fold-content-docs' class="fold-docs">
<span class="md-text">		Conn is an acquired *pgx.Conn from a Pool.</span>

		<input type='checkbox' class="fold" id="Conn-fold-methods"><label for="Conn-fold-methods">Methods (<i>total 11</i>)</label><span id='Conn-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-Begin"><label for="Conn-fold-method-Begin">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-103">Begin</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Tx">Tx</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-Begin-docs' class="fold-docs">
<span class="md-text">				Begin starts a transaction block from the *Conn without explicitly setting a transaction mode (see BeginTx with TxOptions if transaction mode is required).</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-BeginTx"><label for="Conn-fold-method-BeginTx">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-108">BeginTx</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, txOptions <a href="../v5.html">pgx</a>.<a href="../v5.html#name-TxOptions">TxOptions</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Tx">Tx</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-BeginTx-docs' class="fold-docs">
<span class="md-text">				BeginTx starts a transaction block from the *Conn with txOptions determining the transaction mode.</span>
</span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-116">Conn</a>() *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a></span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-98">CopyFrom</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, tableName <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Identifier">Identifier</a>, columnNames []<a href="../../../../builtin.html#name-string">string</a>, rowSrc <a href="../v5.html">pgx</a>.<a href="../v5.html#name-CopyFromSource">CopyFromSource</a>) (<a href="../../../../builtin.html#name-int64">int64</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-82">Exec</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, arguments ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="pgconn.html">pgconn</a>.<a href="pgconn.html#name-CommandTag">CommandTag</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-Hijack"><label for="Conn-fold-method-Hijack">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-68">Hijack</a>() *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a></label><span id='Conn-fold-method-Hijack-docs' class="fold-docs">
<span class="md-text">				Hijack assumes ownership of the connection from the pool. Caller is responsible for closing the connection. Hijack
				will panic if called on an already released or hijacked connection.</span>
</span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-112">Ping</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-86">Query</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Rows">Rows</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-90">QueryRow</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Row">Row</a></span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-Release"><label for="Conn-fold-method-Release">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-20">Release</a>()</label><span id='Conn-fold-method-Release-docs' class="fold-docs">
<span class="md-text">				Release returns c to the pool it was acquired from. Once Release has been called, other methods must not be called.
				However, it is safe to call Release multiple times. Subsequent calls after the first will be ignored.</span>
</span></span><span>
			<span class="nodocs">(*Conn) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/conn.go.html#line-94">SendBatch</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, b *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Batch">Batch</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-BatchResults">BatchResults</a></span></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-impls"><label for="Conn-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Conn-fold-impls-items' class="fold-items"><span>
			*Conn : database/sql/driver.<a href="../../../../database/sql/driver.html#name-Pinger">Pinger</a></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-results"><label for="Conn-fold-results">As Outputs Of (<i>at least 2</i>)</label><span id='Conn-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-Pool">Pool</a>).<a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-501">Acquire</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (*<b>Conn</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func (*<a href="#name-Pool">Pool</a>).<a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-541">AcquireAllIdle</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) []*<b>Conn</b></span></span>

</span></div><div class="anchor type-res" id="name-Pool" data-popularity="1020">	<input type='checkbox' class="fold" id="Pool-fold-content"><label for="Pool-fold-content"> type <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-75">Pool</a> <i>(struct)</i></label><span id='Pool-fold-content-docs' class="fold-docs">
<span class="md-text">		Pool allows for connection reuse.</span>

		<input type='checkbox' class="fold" id="Pool-fold-methods"><label for="Pool-fold-methods">Methods (<i>total 15</i>)</label><span id='Pool-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Acquire"><label for="Pool-fold-method-Acquire">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-501">Acquire</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (*<a href="#name-Conn">Conn</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Pool-fold-method-Acquire-docs' class="fold-docs">
<span class="md-text">				Acquire returns a connection (*Conn) from the Pool</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-AcquireAllIdle"><label for="Pool-fold-method-AcquireAllIdle">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-541">AcquireAllIdle</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) []*<a href="#name-Conn">Conn</a></label><span id='Pool-fold-method-AcquireAllIdle-docs' class="fold-docs">
<span class="md-text">				AcquireAllIdle atomically acquires all currently idle connections. Its intended use is for health check and
				keep-alive functionality. It does not update pool statistics.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-AcquireFunc"><label for="Pool-fold-method-AcquireFunc">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-529">AcquireFunc</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, f func(*<a href="#name-Conn">Conn</a>) <a href="../../../../builtin.html#name-error">error</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Pool-fold-method-AcquireFunc-docs' class="fold-docs">
<span class="md-text">				AcquireFunc acquires a *Conn and calls f with that *Conn. ctx will only affect the Acquire. It has no effect on the
				call of f. The return value is either an error acquiring the *Conn or the return value of f. The *Conn is
				automatically released after the call of f.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Begin"><label for="Pool-fold-method-Begin">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-653">Begin</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Tx">Tx</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Pool-fold-method-Begin-docs' class="fold-docs">
<span class="md-text">				Begin acquires a connection from the Pool and starts a transaction. Unlike database/sql, the context only affects the begin command. i.e. there is no
				auto-rollback on context cancellation. Begin initiates a transaction block without explicitly setting a transaction mode for the block (see BeginTx with TxOptions if transaction mode is required).
				*pgxpool.Tx is returned, which implements the pgx.Tx interface.
				Commit or Rollback must be called on the returned transaction to finalize the transaction block.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-BeginTx"><label for="Pool-fold-method-BeginTx">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-661">BeginTx</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, txOptions <a href="../v5.html">pgx</a>.<a href="../v5.html#name-TxOptions">TxOptions</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Tx">Tx</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Pool-fold-method-BeginTx-docs' class="fold-docs">
<span class="md-text">				BeginTx acquires a connection from the Pool and starts a transaction with pgx.TxOptions determining the transaction mode.
				Unlike database/sql, the context only affects the begin command. i.e. there is no auto-rollback on context cancellation.
				*pgxpool.Tx is returned, which implements the pgx.Tx interface.
				Commit or Rollback must be called on the returned transaction to finalize the transaction block.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Close"><label for="Pool-fold-method-Close">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-373">Close</a>()</label><span id='Pool-fold-method-Close-docs' class="fold-docs">
<span class="md-text">				Close closes all connections in the pool and rejects future Acquire calls. Blocks until all connections are returned
				to pool and closed.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Config"><label for="Pool-fold-method-Config">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-566">Config</a>() *<a href="#name-Config">Config</a></label><span id='Pool-fold-method-Config-docs' class="fold-docs">
<span class="md-text">				Config returns a copy of config that was used to initialize this pool.</span>
</span></span><span>
			<span class="nodocs">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-676">CopyFrom</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, tableName <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Identifier">Identifier</a>, columnNames []<a href="../../../../builtin.html#name-string">string</a>, rowSrc <a href="../v5.html">pgx</a>.<a href="../v5.html#name-CopyFromSource">CopyFromSource</a>) (<a href="../../../../builtin.html#name-int64">int64</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Exec"><label for="Pool-fold-method-Exec">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-582">Exec</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, arguments ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="pgconn.html">pgconn</a>.<a href="pgconn.html#name-CommandTag">CommandTag</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Pool-fold-method-Exec-docs' class="fold-docs">
<span class="md-text">				Exec acquires a connection from the Pool and executes the given SQL.
				SQL can be either a prepared statement name or an SQL string.
				Arguments should be referenced positionally from the SQL string as $1, $2, etc.
				The acquired connection is returned to the pool when the Exec function returns.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Ping"><label for="Pool-fold-method-Ping">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-688">Ping</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Pool-fold-method-Ping-docs' class="fold-docs">
<span class="md-text">				Ping acquires a connection from the Pool and executes an empty sql statement against it.
				If the sql returns without error, the database Ping is considered successful, otherwise, the error is returned.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Query"><label for="Pool-fold-method-Query">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-602">Query</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Rows">Rows</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Pool-fold-method-Query-docs' class="fold-docs">
<span class="md-text">				Query acquires a connection and executes a query that returns pgx.Rows.
				Arguments should be referenced positionally from the SQL string as $1, $2, etc.
				See pgx.Rows documentation to close the returned Rows and return the acquired connection to the Pool.
				
				If there is an error, the returned pgx.Rows will be returned in an error state.
				If preferred, ignore the error returned from Query and handle errors using the returned pgx.Rows.
				
				For extra control over how the query is executed, the types QuerySimpleProtocol, QueryResultFormats, and
				QueryResultFormatsByOID may be used as the first args to control exactly how the query is executed. This is rarely
				needed. See the documentation for those types for details.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-QueryRow"><label for="Pool-fold-method-QueryRow">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-629">QueryRow</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Row">Row</a></label><span id='Pool-fold-method-QueryRow-docs' class="fold-docs">
<span class="md-text">				QueryRow acquires a connection and executes a query that is expected
				to return at most one row (pgx.Row). Errors are deferred until pgx.Row's
				Scan method is called. If the query selects no rows, pgx.Row's Scan will
				return ErrNoRows. Otherwise, pgx.Row's Scan scans the first selected row
				and discards the rest. The acquired connection is returned to the Pool when
				pgx.Row's Scan method is called.
				
				Arguments should be referenced positionally from the SQL string as $1, $2, etc.
				
				For extra control over how the query is executed, the types QuerySimpleProtocol, QueryResultFormats, and
				QueryResultFormatsByOID may be used as the first args to control exactly how the query is executed. This is rarely
				needed. See the documentation for those types for details.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Reset"><label for="Pool-fold-method-Reset">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-561">Reset</a>()</label><span id='Pool-fold-method-Reset-docs' class="fold-docs">
<span class="md-text">				Reset closes all connections, but leaves the pool open. It is intended for use when an error is detected that would
				disrupt all connections (such as a network interruption or a server state change).
				
				It is safe to reset a pool while connections are checked out. Those connections will be closed when they are returned
				to the pool.</span>
</span></span><span>
			<span class="nodocs">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-639">SendBatch</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, b *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Batch">Batch</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-BatchResults">BatchResults</a></span></span><span>
			<input type='checkbox' class="fold" id="Pool-fold-method-Stat"><label for="Pool-fold-method-Stat">(*Pool) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-569">Stat</a>() *<a href="#name-Stat">Stat</a></label><span id='Pool-fold-method-Stat-docs' class="fold-docs">
<span class="md-text">				Stat returns a pgxpool.Stat struct with a snapshot of Pool statistics.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Pool-fold-impls"><label for="Pool-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Pool-fold-impls-items' class="fold-items"><span>
			*Pool : database/sql/driver.<a href="../../../../database/sql/driver.html#name-Pinger">Pinger</a></span></span>
		<input type='checkbox' class="fold" id="Pool-fold-results"><label for="Pool-fold-results">As Outputs Of (<i>at least 2</i>)</label><span id='Pool-fold-results-items' class="fold-items"><span>
			func <a href="#name-New">New</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, connString <a href="../../../../builtin.html#name-string">string</a>) (*<b>Pool</b>, <a href="../../../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-NewWithConfig">NewWithConfig</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, config *<a href="#name-Config">Config</a>) (*<b>Pool</b>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>
		<input type='checkbox' class="fold" id="Pool-fold-params"><label for="Pool-fold-params">As Inputs Of (<i>at least 2</i>)</label><span id='Pool-fold-params-items' class="fold-items"><span>
			func github.com/jackc/pgx/v5/stdlib.<a href="stdlib.html#name-GetPoolConnector">GetPoolConnector</a>(pool *<b>Pool</b>, opts ...<a href="stdlib.html">stdlib</a>.<a href="stdlib.html#name-OptionOpenDB">OptionOpenDB</a>) <a href="../../../../database/sql/driver.html">driver</a>.<a href="../../../../database/sql/driver.html#name-Connector">Connector</a></span><span>
			func github.com/jackc/pgx/v5/stdlib.<a href="stdlib.html#name-OpenDBFromPool">OpenDBFromPool</a>(pool *<b>Pool</b>, opts ...<a href="stdlib.html">stdlib</a>.<a href="stdlib.html#name-OptionOpenDB">OptionOpenDB</a>) *<a href="../../../../database/sql.html">sql</a>.<a href="../../../../database/sql.html#name-DB">DB</a></span></span>

</span></div><div class="anchor type-res" id="name-Stat" data-popularity="675">	<input type='checkbox' class="fold" id="Stat-fold-content"><label for="Stat-fold-content"> type <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-10">Stat</a> <i>(struct)</i></label><span id='Stat-fold-content-docs' class="fold-docs">
<span class="md-text">		Stat is a snapshot of Pool statistics.</span>

		<input type='checkbox' class="fold" id="Stat-fold-methods"><label for="Stat-fold-methods">Methods (<i>total 12</i>)</label><span id='Stat-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-AcquireCount"><label for="Stat-fold-method-AcquireCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-18">AcquireCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-AcquireCount-docs' class="fold-docs">
<span class="md-text">				AcquireCount returns the cumulative count of successful acquires from the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-AcquireDuration"><label for="Stat-fold-method-AcquireDuration">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-24">AcquireDuration</a>() <a href="../../../../time.html">time</a>.<a href="../../../../time.html#name-Duration">Duration</a></label><span id='Stat-fold-method-AcquireDuration-docs' class="fold-docs">
<span class="md-text">				AcquireDuration returns the total duration of all successful acquires from
				the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-AcquiredConns"><label for="Stat-fold-method-AcquiredConns">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-29">AcquiredConns</a>() <a href="../../../../builtin.html#name-int32">int32</a></label><span id='Stat-fold-method-AcquiredConns-docs' class="fold-docs">
<span class="md-text">				AcquiredConns returns the number of currently acquired connections in the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-CanceledAcquireCount"><label for="Stat-fold-method-CanceledAcquireCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-35">CanceledAcquireCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-CanceledAcquireCount-docs' class="fold-docs">
<span class="md-text">				CanceledAcquireCount returns the cumulative count of acquires from the pool
				that were canceled by a context.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-ConstructingConns"><label for="Stat-fold-method-ConstructingConns">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-41">ConstructingConns</a>() <a href="../../../../builtin.html#name-int32">int32</a></label><span id='Stat-fold-method-ConstructingConns-docs' class="fold-docs">
<span class="md-text">				ConstructingConns returns the number of conns with construction in progress in
				the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-EmptyAcquireCount"><label for="Stat-fold-method-EmptyAcquireCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-48">EmptyAcquireCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-EmptyAcquireCount-docs' class="fold-docs">
<span class="md-text">				EmptyAcquireCount returns the cumulative count of successful acquires from the pool
				that waited for a resource to be released or constructed because the pool was
				empty.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-IdleConns"><label for="Stat-fold-method-IdleConns">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-53">IdleConns</a>() <a href="../../../../builtin.html#name-int32">int32</a></label><span id='Stat-fold-method-IdleConns-docs' class="fold-docs">
<span class="md-text">				IdleConns returns the number of currently idle conns in the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-MaxConns"><label for="Stat-fold-method-MaxConns">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-58">MaxConns</a>() <a href="../../../../builtin.html#name-int32">int32</a></label><span id='Stat-fold-method-MaxConns-docs' class="fold-docs">
<span class="md-text">				MaxConns returns the maximum size of the pool.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-MaxIdleDestroyCount"><label for="Stat-fold-method-MaxIdleDestroyCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-82">MaxIdleDestroyCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-MaxIdleDestroyCount-docs' class="fold-docs">
<span class="md-text">				MaxIdleDestroyCount returns the cumulative count of connections destroyed because
				they exceeded MaxConnIdleTime.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-MaxLifetimeDestroyCount"><label for="Stat-fold-method-MaxLifetimeDestroyCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-76">MaxLifetimeDestroyCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-MaxLifetimeDestroyCount-docs' class="fold-docs">
<span class="md-text">				MaxLifetimeDestroyCount returns the cumulative count of connections destroyed
				because they exceeded MaxConnLifetime.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-NewConnsCount"><label for="Stat-fold-method-NewConnsCount">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-70">NewConnsCount</a>() <a href="../../../../builtin.html#name-int64">int64</a></label><span id='Stat-fold-method-NewConnsCount-docs' class="fold-docs">
<span class="md-text">				NewConnsCount returns the cumulative count of new connections opened.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Stat-fold-method-TotalConns"><label for="Stat-fold-method-TotalConns">(*Stat) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/stat.go.html#line-65">TotalConns</a>() <a href="../../../../builtin.html#name-int32">int32</a></label><span id='Stat-fold-method-TotalConns-docs' class="fold-docs">
<span class="md-text">				TotalConns returns the total number of resources currently in the pool.
				The value is the sum of ConstructingConns, AcquiredConns, and
				IdleConns.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Stat-fold-results"><label for="Stat-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Stat-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-Pool">Pool</a>).<a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-569">Stat</a>() *<b>Stat</b></span></span>

</span></div><div class="anchor type-res" id="name-Tx" data-popularity="600">	<input type='checkbox' class="fold" id="Tx-fold-content"><label for="Tx-fold-content"> type <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-11">Tx</a> <i>(struct)</i></label><span id='Tx-fold-content-docs' class="fold-docs">
<span class="md-text">		Tx represents a database transaction acquired from a Pool.</span>

		<input type='checkbox' class="fold" id="Tx-fold-methods"><label for="Tx-fold-methods">Methods (<i>total 11</i>)</label><span id='Tx-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Tx-fold-method-Begin"><label for="Tx-fold-method-Begin">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-17">Begin</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Tx">Tx</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Tx-fold-method-Begin-docs' class="fold-docs">
<span class="md-text">				Begin starts a pseudo nested transaction implemented with a savepoint.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Tx-fold-method-Commit"><label for="Tx-fold-method-Commit">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-24">Commit</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Tx-fold-method-Commit-docs' class="fold-docs">
<span class="md-text">				Commit commits the transaction and returns the associated connection back to the Pool. Commit will return ErrTxClosed
				if the Tx is already closed, but is otherwise safe to call multiple times. If the commit fails with a rollback status
				(e.g. the transaction was already in a broken state) then ErrTxCommitRollback will be returned.</span>
</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-80">Conn</a>() *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Conn">Conn</a></span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-45">CopyFrom</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, tableName <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Identifier">Identifier</a>, columnNames []<a href="../../../../builtin.html#name-string">string</a>, rowSrc <a href="../v5.html">pgx</a>.<a href="../v5.html#name-CopyFromSource">CopyFromSource</a>) (<a href="../../../../builtin.html#name-int64">int64</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-68">Exec</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, arguments ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="pgconn.html">pgconn</a>.<a href="pgconn.html#name-CommandTag">CommandTag</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-53">LargeObjects</a>() <a href="../v5.html">pgx</a>.<a href="../v5.html#name-LargeObjects">LargeObjects</a></span></span><span>
			<input type='checkbox' class="fold" id="Tx-fold-method-Prepare"><label for="Tx-fold-method-Prepare">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-64">Prepare</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, name, sql <a href="../../../../builtin.html#name-string">string</a>) (*<a href="pgconn.html">pgconn</a>.<a href="pgconn.html#name-StatementDescription">StatementDescription</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Tx-fold-method-Prepare-docs' class="fold-docs">
<span class="md-text">				Prepare creates a prepared statement with name and sql. If the name is empty,
				an anonymous prepared statement will be used. sql can contain placeholders
				for bound parameters. These placeholders are referenced positionally as $1, $2, etc.
				
				Prepare is idempotent; i.e. it is safe to call Prepare multiple times with the same
				name and sql arguments. This allows a code path to Prepare and Query/Exec without
				needing to first check whether the statement has already been prepared.</span>
</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-72">Query</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) (<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Rows">Rows</a>, <a href="../../../../builtin.html#name-error">error</a>)</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-76">QueryRow</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, sql <a href="../../../../builtin.html#name-string">string</a>, args ...<a href="../../../../builtin.html#name-any">any</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-Row">Row</a></span></span><span>
			<input type='checkbox' class="fold" id="Tx-fold-method-Rollback"><label for="Tx-fold-method-Rollback">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-36">Rollback</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>) <a href="../../../../builtin.html#name-error">error</a></label><span id='Tx-fold-method-Rollback-docs' class="fold-docs">
<span class="md-text">				Rollback rolls back the transaction and returns the associated connection back to the Pool. Rollback will return ErrTxClosed
				if the Tx is already closed, but is otherwise safe to call multiple times. Hence, defer tx.Rollback() is safe even if
				tx.Commit() will be called first in a non-error condition.</span>
</span></span><span>
			<span class="nodocs">(*Tx) <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/tx.go.html#line-49">SendBatch</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, b *<a href="../v5.html">pgx</a>.<a href="../v5.html#name-Batch">Batch</a>) <a href="../v5.html">pgx</a>.<a href="../v5.html#name-BatchResults">BatchResults</a></span></span></span>
		<input type='checkbox' class="fold" id="Tx-fold-impls"><label for="Tx-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Tx-fold-impls-items' class="fold-items"><span>
			*Tx : github.com/jackc/pgx/v5.<a href="../v5.html#name-Tx">Tx</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3)</i></span></span>

<div class="anchor value-res" id="name-New">	<input type='checkbox' class="fold" id="New-fold-content"><label for="New-fold-content"> func <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-164">New</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, connString <a href="../../../../builtin.html#name-string">string</a>) (*<a href="#name-Pool">Pool</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='New-fold-content-docs' class="fold-docs">
<span class="md-text">		New creates a new Pool. See [ParseConfig] for information on connString format.</span>

</span></div><div class="anchor value-res" id="name-NewWithConfig">	<input type='checkbox' class="fold" id="NewWithConfig-fold-content"><label for="NewWithConfig-fold-content"> func <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-174">NewWithConfig</a>(ctx <a href="../../../../context.html">context</a>.<a href="../../../../context.html#name-Context">Context</a>, config *<a href="#name-Config">Config</a>) (*<a href="#name-Pool">Pool</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='NewWithConfig-fold-content-docs' class="fold-docs">
<span class="md-text">		NewWithConfig creates a new Pool. config must have been created by [ParseConfig].</span>

</span></div><div class="anchor value-res" id="name-ParseConfig">	<input type='checkbox' class="fold" id="ParseConfig-fold-content"><label for="ParseConfig-fold-content"> func <a href="../../../../../src/github.com/jackc/pgx/v5/pgxpool/pool.go.html#line-287">ParseConfig</a>(connString <a href="../../../../builtin.html#name-string">string</a>) (*<a href="#name-Config">Config</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ParseConfig-fold-content-docs' class="fold-docs">
<span class="md-text">		ParseConfig builds a Config from connString. It parses connString with the same behavior as [pgx.ParseConfig] with the
		addition of the following variables:
		
		  - pool_max_conns: integer greater than 0
		  - pool_min_conns: integer 0 or greater
		  - pool_max_conn_lifetime: duration string
		  - pool_max_conn_idle_time: duration string
		  - pool_health_check_period: duration string
		  - pool_max_conn_lifetime_jitter: duration string
		
		See Config for definitions of these arguments.
		
			# Example DSN
			user=jack password=secret host=pg.example.com port=5432 dbname=mydb sslmode=verify-ca pool_max_conns=10
		
			# Example URL
			postgres://jack:secret@pg.example.com:5432/mydb?sslmode=verify-ca&amp;pool_max_conns=10</span>

</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.8</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>