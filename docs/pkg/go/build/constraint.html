<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: go/build/constraint</title>
<link href="../../../css/dark-v0.6.8.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.6.8.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>constraint</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-go/build/constraint">go/build/constraint</a><i> (on <a href="https://pkg.go.dev/go/build/constraint" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/go/build/constraint.html">5 packages</a>, and imported by <a href="../../../dep/go/build/constraint.html#imported-by">2 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../../src/go/build/constraint/expr.go.html#doc">d</a> <a href="../../../src/go/build/constraint/expr.go.html">expr.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package constraint implements parsing and evaluation of build constraint lines.
		See https://golang.org/cmd/go/#hdr-Build_constraints for documentation about build constraints themselves.
		
		This package parses both the original “// +build” syntax and the “//go:build” syntax that was added in Go 1.17.
		See https://golang.org/design/draft-gobuild for details about the “//go:build” syntax.</span>
</span>
	<span class="nodocs">    <a href="../../../src/go/build/constraint/vers.go.html">vers.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 6)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-AndExpr" data-popularity="200">	<input type='checkbox' class="fold" id="AndExpr-fold-content"><label for="AndExpr-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-76">AndExpr</a> <i>(struct)</i></label><span id='AndExpr-fold-content-docs' class="fold-docs">
<span class="md-text">		An AndExpr represents the expression X &amp;&amp; Y.</span>

		<input type='checkbox' class="fold" id="AndExpr-fold-fields"><label for="AndExpr-fold-fields">Fields (<i>total 2</i>)</label><span id='AndExpr-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../src/go/build/constraint/expr.go.html#line-77">X</a> <i><a href="#name-Expr">Expr</a></i></span></span><span>
			<span class="nodocs"><a href="../../../src/go/build/constraint/expr.go.html#line-77">Y</a> <i><a href="#name-Expr">Expr</a></i></span></span></span>
		<input type='checkbox' class="fold" id="AndExpr-fold-methods"><label for="AndExpr-fold-methods">Methods (<i>total 2</i>)</label><span id='AndExpr-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*AndExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-82">Eval</a>(ok func(tag <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a>) <a href="../../builtin.html#name-bool">bool</a></span></span><span>
			<span class="nodocs">(*AndExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-89">String</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="AndExpr-fold-impls"><label for="AndExpr-fold-impls">Implements (<i>at least 2</i>)</label><span id='AndExpr-fold-impls-items' class="fold-items"><span>
			*AndExpr : <a href="#name-Expr">Expr</a></span><span>
			*AndExpr : fmt.<a href="../../fmt.html#name-Stringer">Stringer</a></span></span>

</span></div><div class="anchor type-res" id="name-Expr" data-popularity="895">	<input type='checkbox' class="fold" id="Expr-fold-content"><label for="Expr-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-21">Expr</a> <b><i>(interface)</i></b></label><span id='Expr-fold-content-docs' class="fold-docs">
<span class="md-text">		An Expr is a build tag constraint expression.
		The underlying concrete type is *[AndExpr], *[OrExpr], *[NotExpr], or *[TagExpr].</span>

		<input type='checkbox' class="fold" id="Expr-fold-methods"><label for="Expr-fold-methods">Methods (<i>total 2</i>)</label><span id='Expr-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Expr-fold-method-Eval"><label for="Expr-fold-method-Eval">( Expr) <a href="../../../src/go/build/constraint/expr.go.html#line-29">Eval</a>(ok func(tag <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='Expr-fold-method-Eval-docs' class="fold-docs">
<span class="md-text">				Eval reports whether the expression evaluates to true.
				It calls ok(tag) as needed to find out whether a given build tag
				is satisfied by the current build configuration.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Expr-fold-method-String"><label for="Expr-fold-method-String">( Expr) <a href="../../../src/go/build/constraint/expr.go.html#line-24">String</a>() <a href="../../builtin.html#name-string">string</a></label><span id='Expr-fold-method-String-docs' class="fold-docs">
<span class="md-text">				String returns the string form of the expression,
				using the boolean syntax used in //go:build lines.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Expr-fold-impledby"><label for="Expr-fold-impledby">Implemented By (<i>at least 4</i>)</label><span id='Expr-fold-impledby-items' class="fold-items"><span>
			*<a href="#name-AndExpr">AndExpr</a></span><span>
			*<a href="#name-NotExpr">NotExpr</a></span><span>
			*<a href="#name-OrExpr">OrExpr</a></span><span>
			*<a href="#name-TagExpr">TagExpr</a></span></span>
		<input type='checkbox' class="fold" id="Expr-fold-impls"><label for="Expr-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Expr-fold-impls-items' class="fold-items"><span>
			 Expr : fmt.<a href="../../fmt.html#name-Stringer">Stringer</a></span></span>
		<input type='checkbox' class="fold" id="Expr-fold-results"><label for="Expr-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Expr-fold-results-items' class="fold-items"><span>
			func <a href="#name-Parse">Parse</a>(line <a href="../../builtin.html#name-string">string</a>) (<b>Expr</b>, <a href="../../builtin.html#name-error">error</a>)</span></span>
		<input type='checkbox' class="fold" id="Expr-fold-params"><label for="Expr-fold-params">As Inputs Of (<i>at least 2</i>)</label><span id='Expr-fold-params-items' class="fold-items"><span>
			func <a href="#name-GoVersion">GoVersion</a>(x <b>Expr</b>) <a href="../../builtin.html#name-string">string</a></span><span>
			func <a href="#name-PlusBuildLines">PlusBuildLines</a>(x <b>Expr</b>) ([]<a href="../../builtin.html#name-string">string</a>, <a href="../../builtin.html#name-error">error</a>)</span></span>

</span></div><div class="anchor type-res" id="name-NotExpr" data-popularity="200">	<input type='checkbox' class="fold" id="NotExpr-fold-content"><label for="NotExpr-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-54">NotExpr</a> <i>(struct)</i></label><span id='NotExpr-fold-content-docs' class="fold-docs">
<span class="md-text">		A NotExpr represents the expression !X (the negation of X).</span>

		<input type='checkbox' class="fold" id="NotExpr-fold-fields"><label for="NotExpr-fold-fields">Fields (<i>only one</i>)</label><span id='NotExpr-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../src/go/build/constraint/expr.go.html#line-55">X</a> <i><a href="#name-Expr">Expr</a></i></span></span></span>
		<input type='checkbox' class="fold" id="NotExpr-fold-methods"><label for="NotExpr-fold-methods">Methods (<i>total 2</i>)</label><span id='NotExpr-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*NotExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-60">Eval</a>(ok func(tag <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a>) <a href="../../builtin.html#name-bool">bool</a></span></span><span>
			<span class="nodocs">(*NotExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-64">String</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="NotExpr-fold-impls"><label for="NotExpr-fold-impls">Implements (<i>at least 2</i>)</label><span id='NotExpr-fold-impls-items' class="fold-items"><span>
			*NotExpr : <a href="#name-Expr">Expr</a></span><span>
			*NotExpr : fmt.<a href="../../fmt.html#name-Stringer">Stringer</a></span></span>

</span></div><div class="anchor type-res" id="name-OrExpr" data-popularity="200">	<input type='checkbox' class="fold" id="OrExpr-fold-content"><label for="OrExpr-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-106">OrExpr</a> <i>(struct)</i></label><span id='OrExpr-fold-content-docs' class="fold-docs">
<span class="md-text">		An OrExpr represents the expression X || Y.</span>

		<input type='checkbox' class="fold" id="OrExpr-fold-fields"><label for="OrExpr-fold-fields">Fields (<i>total 2</i>)</label><span id='OrExpr-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../src/go/build/constraint/expr.go.html#line-77">X</a> <i><a href="#name-Expr">Expr</a></i></span></span><span>
			<span class="nodocs"><a href="../../../src/go/build/constraint/expr.go.html#line-77">Y</a> <i><a href="#name-Expr">Expr</a></i></span></span></span>
		<input type='checkbox' class="fold" id="OrExpr-fold-methods"><label for="OrExpr-fold-methods">Methods (<i>total 2</i>)</label><span id='OrExpr-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*OrExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-112">Eval</a>(ok func(tag <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a>) <a href="../../builtin.html#name-bool">bool</a></span></span><span>
			<span class="nodocs">(*OrExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-119">String</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="OrExpr-fold-impls"><label for="OrExpr-fold-impls">Implements (<i>at least 2</i>)</label><span id='OrExpr-fold-impls-items' class="fold-items"><span>
			*OrExpr : <a href="#name-Expr">Expr</a></span><span>
			*OrExpr : fmt.<a href="../../fmt.html#name-Stringer">Stringer</a></span></span>

</span></div><div class="anchor type-res" id="name-SyntaxError" data-popularity="100">	<input type='checkbox' class="fold" id="SyntaxError-fold-content"><label for="SyntaxError-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-136">SyntaxError</a> <i>(struct)</i></label><span id='SyntaxError-fold-content-docs' class="fold-docs">
<span class="md-text">		A SyntaxError reports a syntax error in a parsed build expression.</span>

		<input type='checkbox' class="fold" id="SyntaxError-fold-fields"><label for="SyntaxError-fold-fields">Fields (<i>total 2</i>)</label><span id='SyntaxError-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="SyntaxError-fold-field-Err"><label for="SyntaxError-fold-field-Err"><a href="../../../src/go/build/constraint/expr.go.html#line-138">Err</a> <i><a href="../../builtin.html#name-string">string</a></i></label><span id='SyntaxError-fold-field-Err-docs' class="fold-docs">
<span class="md-text">				// description of error</span>
</span></span><span>
			<input type='checkbox' class="fold" id="SyntaxError-fold-field-Offset"><label for="SyntaxError-fold-field-Offset"><a href="../../../src/go/build/constraint/expr.go.html#line-137">Offset</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='SyntaxError-fold-field-Offset-docs' class="fold-docs">
<span class="md-text">				// byte offset in input where error was detected</span>
</span></span></span>
		<input type='checkbox' class="fold" id="SyntaxError-fold-methods"><label for="SyntaxError-fold-methods">Methods (<i>only one</i>)</label><span id='SyntaxError-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*SyntaxError) <a href="../../../src/go/build/constraint/expr.go.html#line-141">Error</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="SyntaxError-fold-impls"><label for="SyntaxError-fold-impls">Implements (<i>at least one exported</i>)</label><span id='SyntaxError-fold-impls-items' class="fold-items"><span>
			*SyntaxError : <a href="../../builtin.html#name-error">error</a></span></span>

</span></div><div class="anchor type-res" id="name-TagExpr" data-popularity="200">	<input type='checkbox' class="fold" id="TagExpr-fold-content"><label for="TagExpr-fold-content"> type <a href="../../../src/go/build/constraint/expr.go.html#line-37">TagExpr</a> <i>(struct)</i></label><span id='TagExpr-fold-content-docs' class="fold-docs">
<span class="md-text">		A TagExpr is an [Expr] for the single tag Tag.</span>

		<input type='checkbox' class="fold" id="TagExpr-fold-fields"><label for="TagExpr-fold-fields">Fields (<i>only one</i>)</label><span id='TagExpr-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="TagExpr-fold-field-Tag"><label for="TagExpr-fold-field-Tag"><a href="../../../src/go/build/constraint/expr.go.html#line-38">Tag</a> <i><a href="../../builtin.html#name-string">string</a></i></label><span id='TagExpr-fold-field-Tag-docs' class="fold-docs">
<span class="md-text">				// for example, “linux” or “cgo”</span>
</span></span></span>
		<input type='checkbox' class="fold" id="TagExpr-fold-methods"><label for="TagExpr-fold-methods">Methods (<i>total 2</i>)</label><span id='TagExpr-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*TagExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-43">Eval</a>(ok func(tag <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a>) <a href="../../builtin.html#name-bool">bool</a></span></span><span>
			<span class="nodocs">(*TagExpr) <a href="../../../src/go/build/constraint/expr.go.html#line-47">String</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="TagExpr-fold-impls"><label for="TagExpr-fold-impls">Implements (<i>at least 2</i>)</label><span id='TagExpr-fold-impls-items' class="fold-items"><span>
			*TagExpr : <a href="#name-Expr">Expr</a></span><span>
			*TagExpr : fmt.<a href="../../fmt.html#name-Stringer">Stringer</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 5)</i></span></span>

<div class="anchor value-res" id="name-GoVersion">	<input type='checkbox' class="fold" id="GoVersion-fold-content"><label for="GoVersion-fold-content"> func <a href="../../../src/go/build/constraint/vers.go.html#line-30">GoVersion</a>(x <a href="#name-Expr">Expr</a>) <a href="../../builtin.html#name-string">string</a></label><span id='GoVersion-fold-content-docs' class="fold-docs">
<span class="md-text">		GoVersion returns the minimum Go version implied by a given build expression.
		If the expression can be satisfied without any Go version tags, GoVersion returns an empty string.
		
		For example:
		
			GoVersion(linux &amp;&amp; go1.22) = "go1.22"
			GoVersion((linux &amp;&amp; go1.22) || (windows &amp;&amp; go1.20)) = "go1.20" =&gt; go1.20
			GoVersion(linux) = ""
			GoVersion(linux || (windows &amp;&amp; go1.22)) = ""
			GoVersion(!go1.22) = ""
		
		GoVersion assumes that any tag or negated tag may independently be true,
		so that its analysis can be purely structural, without SAT solving.
		“Impossible” subexpressions may therefore affect the result.
		
		For example:
		
			GoVersion((linux &amp;&amp; !linux &amp;&amp; go1.20) || go1.21) = "go1.20"</span>

</span></div><div class="anchor value-res" id="name-IsGoBuild">	<input type='checkbox' class="fold" id="IsGoBuild-fold-content"><label for="IsGoBuild-fold-content"> func <a href="../../../src/go/build/constraint/expr.go.html#line-161">IsGoBuild</a>(line <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='IsGoBuild-fold-content-docs' class="fold-docs">
<span class="md-text">		IsGoBuild reports whether the line of text is a “//go:build” constraint.
		It only checks the prefix of the text, not that the expression itself parses.</span>

</span></div><div class="anchor value-res" id="name-IsPlusBuild">	<input type='checkbox' class="fold" id="IsPlusBuild-fold-content"><label for="IsPlusBuild-fold-content"> func <a href="../../../src/go/build/constraint/expr.go.html#line-350">IsPlusBuild</a>(line <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='IsPlusBuild-fold-content-docs' class="fold-docs">
<span class="md-text">		IsPlusBuild reports whether the line of text is a “// +build” constraint.
		It only checks the prefix of the text, not that the expression itself parses.</span>

</span></div><div class="anchor value-res" id="name-Parse">	<input type='checkbox' class="fold" id="Parse-fold-content"><label for="Parse-fold-content"> func <a href="../../../src/go/build/constraint/expr.go.html#line-149">Parse</a>(line <a href="../../builtin.html#name-string">string</a>) (<a href="#name-Expr">Expr</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Parse-fold-content-docs' class="fold-docs">
<span class="md-text">		Parse parses a single build constraint line of the form “//go:build ...” or “// +build ...”
		and returns the corresponding boolean expression.</span>

</span></div><div class="anchor value-res" id="name-PlusBuildLines">	<input type='checkbox' class="fold" id="PlusBuildLines-fold-content"><label for="PlusBuildLines-fold-content"> func <a href="../../../src/go/build/constraint/expr.go.html#line-451">PlusBuildLines</a>(x <a href="#name-Expr">Expr</a>) ([]<a href="../../builtin.html#name-string">string</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='PlusBuildLines-fold-content-docs' class="fold-docs">
<span class="md-text">		PlusBuildLines returns a sequence of “// +build” lines that evaluate to the build expression x.
		If the expression is too complex to convert directly to “// +build” lines, PlusBuildLines returns an error.</span>

</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.8</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>