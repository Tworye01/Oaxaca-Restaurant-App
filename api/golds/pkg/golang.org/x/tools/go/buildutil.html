<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: golang.org/x/tools/go/buildutil</title>
<link href="../../../../../css/dark-v0.6.8.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.6.8.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>buildutil</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-golang.org/x/tools/go/buildutil">golang.org/x/tools/go/buildutil</a><i> (on <a href="https://pkg.go.dev/golang.org/x/tools/go/buildutil" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/golang.org/x/tools/go/buildutil.html">17 packages</a>, and imported by <a href="../../../../../dep/golang.org/x/tools/go/buildutil.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../../../../src/golang.org/x/tools/go/buildutil/allpackages.go.html#doc">d</a> <a href="../../../../../src/golang.org/x/tools/go/buildutil/allpackages.go.html">allpackages.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package buildutil provides utilities related to the go/build
		package in the standard library.
		
		All I/O is done via the build.Context file system interface, which must
		be concurrency-safe.</span>
</span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/buildutil/fakecontext.go.html">fakecontext.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/buildutil/overlay.go.html">overlay.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html">tags.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html">util.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (only one)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-TagsFlag" data-popularity="300">	<input type='checkbox' class="fold" id="TagsFlag-fold-content"><label for="TagsFlag-fold-content"> type <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html#line-30">TagsFlag</a> <i>([])</i></label><span id='TagsFlag-fold-content-docs' class="fold-docs">
<span class="md-text">		TagsFlag is an implementation of the flag.Value and flag.Getter interfaces that parses
		a flag value the same as go build's -tags flag and populates a []string slice.
		
		See $GOROOT/src/go/build/doc.go for description of build tags.
		See $GOROOT/src/cmd/go/doc.go for description of 'go build -tags' flag.
		
		Example:
		
			flag.Var((*buildutil.TagsFlag)(&amp;build.Default.BuildTags), "tags", buildutil.TagsFlagDoc)</span>

		<input type='checkbox' class="fold" id="TagsFlag-fold-methods"><label for="TagsFlag-fold-methods">Methods (<i>total 3</i>)</label><span id='TagsFlag-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*TagsFlag) <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html#line-54">Get</a>() interface{}</span></span><span>
			<span class="nodocs">(*TagsFlag) <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html#line-32">Set</a>(s <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-error">error</a></span></span><span>
			<span class="nodocs">(*TagsFlag) <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html#line-92">String</a>() <a href="../../../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="TagsFlag-fold-impls"><label for="TagsFlag-fold-impls">Implements (<i>at least 3</i>)</label><span id='TagsFlag-fold-impls-items' class="fold-items"><span>
			*TagsFlag : flag.<a href="../../../../flag.html#name-Getter">Getter</a></span><span>
			*TagsFlag : flag.<a href="../../../../flag.html#name-Value">Value</a></span><span>
			*TagsFlag : fmt.<a href="../../../../fmt.html#name-Stringer">Stringer</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 16)</i></span></span>

<div class="anchor value-res" id="name-AllPackages">	<input type='checkbox' class="fold" id="AllPackages-fold-content"><label for="AllPackages-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/allpackages.go.html#line-31">AllPackages</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>) []<a href="../../../../builtin.html#name-string">string</a></label><span id='AllPackages-fold-content-docs' class="fold-docs">
<span class="md-text">		AllPackages returns the package path of each Go package in any source
		directory of the specified build context (e.g. $GOROOT or an element
		of $GOPATH).  Errors are ignored.  The results are sorted.
		All package paths are canonical, and thus may contain "/vendor/".
		
		The result may include import paths for directories that contain no
		*.go files, such as "archive" (in $GOROOT/src).
		
		All I/O is done via the build.Context file system interface,
		which must be concurrency-safe.</span>

</span></div><div class="anchor value-res" id="name-ContainingPackage">	<input type='checkbox' class="fold" id="ContainingPackage-fold-content"><label for="ContainingPackage-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-53">ContainingPackage</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, dir, filename <a href="../../../../builtin.html#name-string">string</a>) (*<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Package">Package</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ContainingPackage-fold-content-docs' class="fold-docs">
<span class="md-text">		ContainingPackage returns the package containing filename.
		
		If filename is not absolute, it is interpreted relative to working directory dir.
		All I/O is via the build context's file system interface, if any.
		
		The '...Files []string' fields of the resulting build.Package are not
		populated (build.FindOnly mode).</span>

</span></div><div class="anchor value-res" id="name-ExpandPatterns">	<input type='checkbox' class="fold" id="ExpandPatterns-fold-content"><label for="ExpandPatterns-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/allpackages.go.html#line-140">ExpandPatterns</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, patterns []<a href="../../../../builtin.html#name-string">string</a>) map[<a href="../../../../builtin.html#name-string">string</a>]<a href="../../../../builtin.html#name-bool">bool</a></label><span id='ExpandPatterns-fold-content-docs' class="fold-docs">
<span class="md-text">		ExpandPatterns returns the set of packages matched by patterns,
		which may have the following forms:
		
			golang.org/x/tools/cmd/guru     # a single package
			golang.org/x/tools/...          # all packages beneath dir
			...                             # the entire workspace.
		
		Order is significant: a pattern preceded by '-' removes matching
		packages from the set.  For example, these patterns match all encoding
		packages except encoding/xml:
		
			encoding/... -encoding/xml
		
		A trailing slash in a pattern is ignored.  (Path components of Go
		package names are separated by slash, not the platform's path separator.)</span>

</span></div><div class="anchor value-res" id="name-FakeContext">	<input type='checkbox' class="fold" id="FakeContext-fold-content"><label for="FakeContext-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/fakecontext.go.html#line-32">FakeContext</a>(pkgs map[<a href="../../../../builtin.html#name-string">string</a>]map[<a href="../../../../builtin.html#name-string">string</a>]<a href="../../../../builtin.html#name-string">string</a>) *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a></label><span id='FakeContext-fold-content-docs' class="fold-docs">
<span class="md-text">		FakeContext returns a build.Context for the fake file tree specified
		by pkgs, which maps package import paths to a mapping from file base
		names to contents.
		
		The fake Context has a GOROOT of "/go" and no GOPATH, and overrides
		the necessary file access methods to read from memory instead of the
		real file system.
		
		Unlike a real file tree, the fake one has only two levels---packages
		and files---so ReadDir("/go/src/") returns all packages under
		/go/src/ including, for instance, "math" and "math/big".
		ReadDir("/go/src/math/big") would return all the files in the
		"math/big" package.</span>

</span></div><div class="anchor value-res" id="name-FileExists">	<input type='checkbox' class="fold" id="FileExists-fold-content"><label for="FileExists-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-127">FileExists</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-bool">bool</a></label><span id='FileExists-fold-content-docs' class="fold-docs">
<span class="md-text">		FileExists returns true if the specified file exists,
		using the build context's file system interface.</span>

</span></div><div class="anchor value-res" id="name-ForEachPackage">	<input type='checkbox' class="fold" id="ForEachPackage-fold-content"><label for="ForEachPackage-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/allpackages.go.html#line-50">ForEachPackage</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, found func(importPath <a href="../../../../builtin.html#name-string">string</a>, err <a href="../../../../builtin.html#name-error">error</a>))</label><span id='ForEachPackage-fold-content-docs' class="fold-docs">
<span class="md-text">		ForEachPackage calls the found function with the package path of
		each Go package it finds in any source directory of the specified
		build context (e.g. $GOROOT or an element of $GOPATH).
		All package paths are canonical, and thus may contain "/vendor/".
		
		If the package directory exists but could not be read, the second
		argument to the found function provides the error.
		
		All I/O is done via the build.Context file system interface,
		which must be concurrency-safe.</span>

</span></div><div class="anchor value-res" id="name-HasSubdir">	<input type='checkbox' class="fold" id="HasSubdir-fold-content"><label for="HasSubdir-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-85">HasSubdir</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, root, dir <a href="../../../../builtin.html#name-string">string</a>) (rel <a href="../../../../builtin.html#name-string">string</a>, ok <a href="../../../../builtin.html#name-bool">bool</a>)</label><span id='HasSubdir-fold-content-docs' class="fold-docs">
<span class="md-text">		HasSubdir calls ctxt.HasSubdir (if not nil) or else uses
		the local file system to answer the question.</span>

</span></div><div class="anchor value-res" id="name-IsAbsPath">	<input type='checkbox' class="fold" id="IsAbsPath-fold-content"><label for="IsAbsPath-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-151">IsAbsPath</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-bool">bool</a></label><span id='IsAbsPath-fold-content-docs' class="fold-docs">
<span class="md-text">		IsAbsPath behaves like filepath.IsAbs,
		but uses the build context's file system interface, if any.</span>

</span></div><div class="anchor value-res" id="name-IsDir">	<input type='checkbox' class="fold" id="IsDir-fold-content"><label for="IsDir-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-169">IsDir</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-bool">bool</a></label><span id='IsDir-fold-content-docs' class="fold-docs">
<span class="md-text">		IsDir behaves like os.Stat plus IsDir,
		but uses the build context's file system interface, if any.</span>

</span></div><div class="anchor value-res" id="name-JoinPath">	<input type='checkbox' class="fold" id="JoinPath-fold-content"><label for="JoinPath-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-160">JoinPath</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path ...<a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-string">string</a></label><span id='JoinPath-fold-content-docs' class="fold-docs">
<span class="md-text">		JoinPath behaves like filepath.Join,
		but uses the build context's file system interface, if any.</span>

</span></div><div class="anchor value-res" id="name-OpenFile">	<input type='checkbox' class="fold" id="OpenFile-fold-content"><label for="OpenFile-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-142">OpenFile</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path <a href="../../../../builtin.html#name-string">string</a>) (<a href="../../../../io.html">io</a>.<a href="../../../../io.html#name-ReadCloser">ReadCloser</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='OpenFile-fold-content-docs' class="fold-docs">
<span class="md-text">		OpenFile behaves like os.Open,
		but uses the build context's file system interface, if any.</span>

</span></div><div class="anchor value-res" id="name-OverlayContext">	<input type='checkbox' class="fold" id="OverlayContext-fold-content"><label for="OverlayContext-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/overlay.go.html#line-31">OverlayContext</a>(orig *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, overlay map[<a href="../../../../builtin.html#name-string">string</a>][]<a href="../../../../builtin.html#name-byte">byte</a>) *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a></label><span id='OverlayContext-fold-content-docs' class="fold-docs">
<span class="md-text">		OverlayContext overlays a build.Context with additional files from
		a map. Files in the map take precedence over other files.
		
		In addition to plain string comparison, two file names are
		considered equal if their base names match and their directory
		components point at the same directory on the file system. That is,
		symbolic links are followed for directories, but not files.
		
		A common use case for OverlayContext is to allow editors to pass in
		a set of unsaved, modified files.
		
		Currently, only the Context.OpenFile function will respect the
		overlay. This may change in the future.</span>

</span></div><div class="anchor value-res" id="name-ParseFile">	<input type='checkbox' class="fold" id="ParseFile-fold-content"><label for="ParseFile-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-31">ParseFile</a>(fset *<a href="../../../../go/token.html">token</a>.<a href="../../../../go/token.html#name-FileSet">FileSet</a>, ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, displayPath func(<a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-string">string</a>, dir <a href="../../../../builtin.html#name-string">string</a>, file <a href="../../../../builtin.html#name-string">string</a>, mode <a href="../../../../go/parser.html">parser</a>.<a href="../../../../go/parser.html#name-Mode">Mode</a>) (*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ParseFile-fold-content-docs' class="fold-docs">
<span class="md-text">		ParseFile behaves like parser.ParseFile,
		but uses the build context's file system interface, if any.
		
		If file is not absolute (as defined by IsAbsPath), the (dir, file)
		components are joined using JoinPath; dir must be absolute.
		
		The displayPath function, if provided, is used to transform the
		filename that will be attached to the ASTs.
		
		TODO(adonovan): call this from go/loader.parseFiles when the tree thaws.</span>

</span></div><div class="anchor value-res" id="name-ParseOverlayArchive">	<input type='checkbox' class="fold" id="ParseOverlayArchive-fold-content"><label for="ParseOverlayArchive-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/overlay.go.html#line-67">ParseOverlayArchive</a>(archive <a href="../../../../io.html">io</a>.<a href="../../../../io.html#name-Reader">Reader</a>) (map[<a href="../../../../builtin.html#name-string">string</a>][]<a href="../../../../builtin.html#name-byte">byte</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ParseOverlayArchive-fold-content-docs' class="fold-docs">
<span class="md-text">		ParseOverlayArchive parses an archive containing Go files and their
		contents. The result is intended to be used with OverlayContext.
		
		# Archive format
		
		The archive consists of a series of files. Each file consists of a
		name, a decimal file size and the file contents, separated by
		newlines. No newline follows after the file contents.</span>

</span></div><div class="anchor value-res" id="name-ReadDir">	<input type='checkbox' class="fold" id="ReadDir-fold-content"><label for="ReadDir-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-179">ReadDir</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, path <a href="../../../../builtin.html#name-string">string</a>) ([]<a href="../../../../os.html">os</a>.<a href="../../../../os.html#name-FileInfo">FileInfo</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='ReadDir-fold-content-docs' class="fold-docs">
<span class="md-text">		ReadDir behaves like ioutil.ReadDir,
		but uses the build context's file system interface, if any.</span>

</span></div><div class="anchor value-res" id="name-SplitPathList">	<input type='checkbox' class="fold" id="SplitPathList-fold-content"><label for="SplitPathList-fold-content"> func <a href="../../../../../src/golang.org/x/tools/go/buildutil/util.go.html#line-188">SplitPathList</a>(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, s <a href="../../../../builtin.html#name-string">string</a>) []<a href="../../../../builtin.html#name-string">string</a></label><span id='SplitPathList-fold-content-docs' class="fold-docs">
<span class="md-text">		SplitPathList behaves like filepath.SplitList,
		but uses the build context's file system interface, if any.</span>

</span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (only one)</i></span></span>

<div class="anchor value-res" id="name-TagsFlagDoc">	<span class="nodocs">const <a href="../../../../../src/golang.org/x/tools/go/buildutil/tags.go.html#line-17">TagsFlagDoc</a> = "a list of `build tags` to consider satisfied during the build. For m...</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.8</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>