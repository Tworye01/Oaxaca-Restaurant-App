<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: golang.org/x/tools/go/loader</title>
<link href="../../../../../css/dark-v0.6.8.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.6.8.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>loader</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../index.html#pkg-golang.org/x/tools/go/loader">golang.org/x/tools/go/loader</a><i> (on <a href="https://pkg.go.dev/golang.org/x/tools/go/loader" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../dep/golang.org/x/tools/go/loader.html">19 packages</a>, and imported by <a href="../../../../../dep/golang.org/x/tools/go/loader.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../../../../src/golang.org/x/tools/go/loader/doc.go.html#doc">d</a> <a href="../../../../../src/golang.org/x/tools/go/loader/doc.go.html">doc.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package loader loads a complete Go program from source code, parsing
		and type-checking the initial packages plus their transitive closure
		of dependencies.  The ASTs and the derived facts are retained for
		later use.
		
		Deprecated: This is an older API and does not have support
		for modules. Use golang.org/x/tools/go/packages instead.
		
		The package defines two primary types: Config, which specifies a
		set of initial packages to load and various other options; and
		Program, which is the result of successfully loading the packages
		specified by a configuration.
		
		The configuration can be set directly, but *Config provides various
		convenience methods to simplify the common cases, each of which can
		be called any number of times.  Finally, these are followed by a
		call to Load() to actually load and type-check the program.
		
			var conf loader.Config
		
			// Use the command-line arguments to specify
			// a set of initial packages to load from source.
			// See FromArgsUsage for help.
			rest, err := conf.FromArgs(os.Args[1:], wantTests)
		
			// Parse the specified files and create an ad hoc package with path "foo".
			// All files must have the same 'package' declaration.
			conf.CreateFromFilenames("foo", "foo.go", "bar.go")
		
			// Create an ad hoc package with path "foo" from
			// the specified already-parsed files.
			// All ASTs must have the same 'package' declaration.
			conf.CreateFromFiles("foo", parsedFiles)
		
			// Add "runtime" to the set of packages to be loaded.
			conf.Import("runtime")
		
			// Adds "fmt" and "fmt_test" to the set of packages
			// to be loaded.  "fmt" will include *_test.go files.
			conf.ImportWithTests("fmt")
		
			// Finally, load all the packages specified by the configuration.
			prog, err := conf.Load()
		
		See examples_test.go for examples of API usage.
		
		# CONCEPTS AND TERMINOLOGY
		
		The WORKSPACE is the set of packages accessible to the loader.  The
		workspace is defined by Config.Build, a *build.Context.  The
		default context treats subdirectories of $GOROOT and $GOPATH as
		packages, but this behavior may be overridden.
		
		An AD HOC package is one specified as a set of source files on the
		command line.  In the simplest case, it may consist of a single file
		such as $GOROOT/src/net/http/triv.go.
		
		EXTERNAL TEST packages are those comprised of a set of *_test.go
		files all with the same 'package foo_test' declaration, all in the
		same directory.  (go/build.Package calls these files XTestFiles.)
		
		An IMPORTABLE package is one that can be referred to by some import
		spec.  Every importable package is uniquely identified by its
		PACKAGE PATH or just PATH, a string such as "fmt", "encoding/json",
		or "cmd/vendor/golang.org/x/arch/x86/x86asm".  A package path
		typically denotes a subdirectory of the workspace.
		
		An import declaration uses an IMPORT PATH to refer to a package.
		Most import declarations use the package path as the import path.
		
		Due to VENDORING (https://golang.org/s/go15vendor), the
		interpretation of an import path may depend on the directory in which
		it appears.  To resolve an import path to a package path, go/build
		must search the enclosing directories for a subdirectory named
		"vendor".
		
		ad hoc packages and external test packages are NON-IMPORTABLE.  The
		path of an ad hoc package is inferred from the package
		declarations of its files and is therefore not a unique package key.
		For example, Config.CreatePkgs may specify two initial ad hoc
		packages, both with path "main".
		
		An AUGMENTED package is an importable package P plus all the
		*_test.go files with same 'package foo' declaration as P.
		(go/build.Package calls these files TestFiles.)
		
		The INITIAL packages are those specified in the configuration.  A
		DEPENDENCY is a package loaded to satisfy an import in an initial
		package or another dependency.</span>
</span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html">loader.go</a></span>
	<span class="nodocs">    <a href="../../../../../src/golang.org/x/tools/go/loader/util.go.html">util.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 4)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Config" data-popularity="350">	<input type='checkbox' class="fold" id="Config-fold-content"><label for="Config-fold-content"> type <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-36">Config</a> <i>(struct)</i></label><span id='Config-fold-content-docs' class="fold-docs">
<span class="md-text">		Config specifies the configuration for loading a whole program from
		Go source code.
		The zero value for Config is a ready-to-use default configuration.</span>

		<input type='checkbox' class="fold" id="Config-fold-fields"><label for="Config-fold-fields">Fields (<i>total 12</i>)</label><span id='Config-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Config-fold-field-AfterTypeCheck"><label for="Config-fold-field-AfterTypeCheck"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-129">AfterTypeCheck</a> <i>func(info *<a href="#name-PackageInfo">PackageInfo</a>, files []*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a>)</i></label><span id='Config-fold-field-AfterTypeCheck-docs' class="fold-docs">
<span class="md-text">				AfterTypeCheck is called immediately after a list of files
				has been type-checked and appended to info.Files.
				
				This optional hook function is the earliest opportunity for
				the client to observe the output of the type checker,
				which may be useful to reduce analysis latency when loading
				a large program.
				
				The function is permitted to modify info.Info, for instance
				to clear data structures that are no longer needed, which can
				dramatically reduce peak memory consumption.
				
				The function may be called twice for the same PackageInfo:
				once for the files of the package and again for the
				in-package test files.
				
				It must be safe to call concurrently from multiple goroutines.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-AllowErrors"><label for="Config-fold-field-AllowErrors"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-85">AllowErrors</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Config-fold-field-AllowErrors-docs' class="fold-docs">
<span class="md-text">				If AllowErrors is true, Load will return a Program even
				if some of the its packages contained I/O, parser or type
				errors; such errors are accessible via PackageInfo.Errors.  If
				false, Load will fail if any package had an error.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-Build"><label for="Config-fold-field-Build"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-68">Build</a> <i>*<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a></i></label><span id='Config-fold-field-Build-docs' class="fold-docs">
<span class="md-text">				If Build is non-nil, it is used to locate source packages.
				Otherwise &amp;build.Default is used.
				
				By default, cgo is invoked to preprocess Go files that
				import the fake package "C".  This behaviour can be
				disabled by setting CGO_ENABLED=0 in the environment prior
				to startup, or by setting Build.CgoEnabled=false.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-CreatePkgs"><label for="Config-fold-field-CreatePkgs"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-90">CreatePkgs</a> <i>[]<a href="#name-PkgSpec">PkgSpec</a></i></label><span id='Config-fold-field-CreatePkgs-docs' class="fold-docs">
<span class="md-text">				CreatePkgs specifies a list of non-importable initial
				packages to create.  The resulting packages will appear in
				the corresponding elements of the Program.Created slice.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-Cwd"><label for="Config-fold-field-Cwd"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-73">Cwd</a> <i><a href="../../../../builtin.html#name-string">string</a></i></label><span id='Config-fold-field-Cwd-docs' class="fold-docs">
<span class="md-text">				The current directory, used for resolving relative package
				references such as "./go/loader".  If empty, os.Getwd will be
				used instead.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-DisplayPath"><label for="Config-fold-field-DisplayPath"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-79">DisplayPath</a> <i>func(path <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-string">string</a></i></label><span id='Config-fold-field-DisplayPath-docs' class="fold-docs">
<span class="md-text">				If DisplayPath is non-nil, it is used to transform each
				file name obtained from Build.Import().  This can be used
				to prevent a virtualized build.Config's file names from
				leaking into the user interface.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-FindPackage"><label for="Config-fold-field-FindPackage"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-110">FindPackage</a> <i>func(ctxt *<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Context">Context</a>, importPath, fromDir <a href="../../../../builtin.html#name-string">string</a>, mode <a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-ImportMode">ImportMode</a>) (*<a href="../../../../go/build.html">build</a>.<a href="../../../../go/build.html#name-Package">Package</a>, <a href="../../../../builtin.html#name-error">error</a>)</i></label><span id='Config-fold-field-FindPackage-docs' class="fold-docs">
<span class="md-text">				FindPackage is called during Load to create the build.Package
				for a given import path from a given directory.
				If FindPackage is nil, (*build.Context).Import is used.
				A client may use this hook to adapt to a proprietary build
				system that does not follow the "go build" layout
				conventions, for example.
				
				It must be safe to call concurrently from multiple goroutines.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-Fset"><label for="Config-fold-field-Fset"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-40">Fset</a> <i>*<a href="../../../../go/token.html">token</a>.<a href="../../../../go/token.html#name-FileSet">FileSet</a></i></label><span id='Config-fold-field-Fset-docs' class="fold-docs">
<span class="md-text">				Fset is the file set for the parser to use when loading the
				program.  If nil, it may be lazily initialized by any
				method of Config.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-ImportPkgs"><label for="Config-fold-field-ImportPkgs"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-100">ImportPkgs</a> <i>map[<a href="../../../../builtin.html#name-string">string</a>]<a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Config-fold-field-ImportPkgs-docs' class="fold-docs">
<span class="md-text">				ImportPkgs specifies a set of initial packages to load.
				The map keys are package paths.
				
				The map value indicates whether to load tests.  If true, Load
				will add and type-check two lists of files to the package:
				non-test files followed by in-package *_test.go files.  In
				addition, it will append the external test package (if any)
				to Program.Created.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-ParserMode"><label for="Config-fold-field-ParserMode"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-44">ParserMode</a> <i><a href="../../../../go/parser.html">parser</a>.<a href="../../../../go/parser.html#name-Mode">Mode</a></i></label><span id='Config-fold-field-ParserMode-docs' class="fold-docs">
<span class="md-text">				ParserMode specifies the mode to be used by the parser when
				loading source packages.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-TypeCheckFuncBodies"><label for="Config-fold-field-TypeCheckFuncBodies"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-59">TypeCheckFuncBodies</a> <i>func(path <a href="../../../../builtin.html#name-string">string</a>) <a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='Config-fold-field-TypeCheckFuncBodies-docs' class="fold-docs">
<span class="md-text">				TypeCheckFuncBodies is a predicate over package paths.
				A package for which the predicate is false will
				have its package-level declarations type checked, but not
				its function bodies; this can be used to quickly load
				dependencies from source.  If nil, all func bodies are type
				checked.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-field-TypeChecker"><label for="Config-fold-field-TypeChecker"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-51">TypeChecker</a> <i><a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Config">Config</a></i></label><span id='Config-fold-field-TypeChecker-docs' class="fold-docs">
<span class="md-text">				TypeChecker contains options relating to the type checker.
				
				The supplied IgnoreFuncBodies is not used; the effective
				value comes from the TypeCheckFuncBodies func below.
				The supplied Import function is not used either.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Config-fold-methods"><label for="Config-fold-methods">Methods (<i>total 7</i>)</label><span id='Config-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Config-fold-method-CreateFromFilenames"><label for="Config-fold-method-CreateFromFilenames">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-300">CreateFromFilenames</a>(path <a href="../../../../builtin.html#name-string">string</a>, filenames ...<a href="../../../../builtin.html#name-string">string</a>)</label><span id='Config-fold-method-CreateFromFilenames-docs' class="fold-docs">
<span class="md-text">				CreateFromFilenames is a convenience function that adds
				a conf.CreatePkgs entry to create a package of the specified *.go
				files.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-CreateFromFiles"><label for="Config-fold-method-CreateFromFiles">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-306">CreateFromFiles</a>(path <a href="../../../../builtin.html#name-string">string</a>, files ...*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a>)</label><span id='Config-fold-method-CreateFromFiles-docs' class="fold-docs">
<span class="md-text">				CreateFromFiles is a convenience function that adds a conf.CreatePkgs
				entry to create package of the specified path and parsed files.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-FromArgs"><label for="Config-fold-method-FromArgs">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-263">FromArgs</a>(args []<a href="../../../../builtin.html#name-string">string</a>, xtest <a href="../../../../builtin.html#name-bool">bool</a>) ([]<a href="../../../../builtin.html#name-string">string</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Config-fold-method-FromArgs-docs' class="fold-docs">
<span class="md-text">				FromArgs interprets args as a set of initial packages to load from
				source and updates the configuration.  It returns the list of
				unconsumed arguments.
				
				It is intended for use in command-line interfaces that require a
				set of initial packages to be specified; see FromArgsUsage message
				for details.
				
				Only superficial errors are reported at this stage; errors dependent
				on I/O are detected during Load.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-Import"><label for="Config-fold-method-Import">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-323">Import</a>(path <a href="../../../../builtin.html#name-string">string</a>)</label><span id='Config-fold-method-Import-docs' class="fold-docs">
<span class="md-text">				Import is a convenience function that adds path to ImportPkgs, the
				set of initial packages that will be imported from source.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-ImportWithTests"><label for="Config-fold-method-ImportWithTests">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-319">ImportWithTests</a>(path <a href="../../../../builtin.html#name-string">string</a>)</label><span id='Config-fold-method-ImportWithTests-docs' class="fold-docs">
<span class="md-text">				ImportWithTests is a convenience function that adds path to
				ImportPkgs, the set of initial source packages located relative to
				$GOPATH.  The package will be augmented by any *_test.go files in
				its directory that contain a "package x" (not "package x_test")
				declaration.
				
				In addition, if any *_test.go files contain a "package x_test"
				declaration, an additional package comprising just those files will
				be added to CreatePkgs.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-Load"><label for="Config-fold-method-Load">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-468">Load</a>() (*<a href="#name-Program">Program</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Config-fold-method-Load-docs' class="fold-docs">
<span class="md-text">				Load creates the initial packages specified by conf.{Create,Import}Pkgs,
				loading their dependencies packages as needed.
				
				On success, Load returns a Program containing a PackageInfo for
				each package.  On failure, it returns an error.
				
				If AllowErrors is true, Load will return a Program even if some
				packages contained I/O, parser or type errors, or if dependencies
				were missing.  (Such errors are accessible via PackageInfo.Errors.  If
				false, Load will fail if any package had an error.
				
				It is an error if no packages were loaded.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Config-fold-method-ParseFile"><label for="Config-fold-method-ParseFile">(*Config) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-219">ParseFile</a>(filename <a href="../../../../builtin.html#name-string">string</a>, src interface{}) (*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a>, <a href="../../../../builtin.html#name-error">error</a>)</label><span id='Config-fold-method-ParseFile-docs' class="fold-docs">
<span class="md-text">				ParseFile is a convenience function (intended for testing) that invokes
				the parser using the Config's FileSet, which is initialized if nil.
				
				src specifies the parser input as a string, []byte, or io.Reader, and
				filename is its apparent name.  If src is nil, the contents of
				filename are read from the file system.</span>
</span></span></span>

</span></div><div class="anchor type-res" id="name-PackageInfo" data-popularity="475">	<input type='checkbox' class="fold" id="PackageInfo-fold-content"><label for="PackageInfo-fold-content"> type <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-182">PackageInfo</a> <i>(struct)</i></label><span id='PackageInfo-fold-content-docs' class="fold-docs">
<span class="md-text">		PackageInfo holds the ASTs and facts derived by the type-checker
		for a single package.
		
		Not mutated once exposed via the API.</span>

		<input type='checkbox' class="fold" id="PackageInfo-fold-fields"><label for="PackageInfo-fold-fields">Fields (<i>total 15</i>)</label><span id='PackageInfo-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Errors"><label for="PackageInfo-fold-field-Errors"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-187">Errors</a> <i>[]<a href="../../../../builtin.html#name-error">error</a></i></label><span id='PackageInfo-fold-field-Errors-docs' class="fold-docs">
<span class="md-text">				// non-nil if the package had errors</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Files"><label for="PackageInfo-fold-field-Files"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-186">Files</a> <i>[]*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a></i></label><span id='PackageInfo-fold-field-Files-docs' class="fold-docs">
<span class="md-text">				// syntax trees for the package's files</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Importable"><label for="PackageInfo-fold-field-Importable"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-184">Importable</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='PackageInfo-fold-field-Importable-docs' class="fold-docs">
<span class="md-text">				// true if 'import "Pkg.Path()"' would resolve to this</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Info"><label for="PackageInfo-fold-field-Info"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188">Info</a> <i><a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Info">Info</a></i></label><span id='PackageInfo-fold-field-Info-docs' class="fold-docs">
<span class="md-text">				// type-checker deductions.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Defs"><label for="PackageInfo-fold-field-Defs"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-232">Defs</a> <i>map[*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Ident">Ident</a>]<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Object">Object</a></i></label><span id='PackageInfo-fold-field-Defs-docs' class="fold-docs">
<span class="md-text">				Defs maps identifiers to the objects they define (including
				package names, dots "." of dot-imports, and blank "_" identifiers).
				For identifiers that do not denote objects (e.g., the package name
				in package clauses, or symbolic variables t in t := x.(type) of
				type switch headers), the corresponding objects are nil.
				
				For an embedded field, Defs returns the field *Var it defines.
				
				Invariant: Defs[id] == nil || Defs[id].Pos() == id.Pos()</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-FileVersions"><label for="PackageInfo-fold-field-FileVersions"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-303">FileVersions</a> <i>map[*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a>]<a href="../../../../builtin.html#name-string">string</a></i></label><span id='PackageInfo-fold-field-FileVersions-docs' class="fold-docs">
<span class="md-text">				FileVersions maps a file to its Go version string.
				If the file doesn't specify a version, the reported
				string is Config.GoVersion.
				Version strings begin with “go”, like “go1.21”, and
				are suitable for use with the [go/version] package.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Implicits"><label for="PackageInfo-fold-field-Implicits"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-250">Implicits</a> <i>map[<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Node">Node</a>]<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Object">Object</a></i></label><span id='PackageInfo-fold-field-Implicits-docs' class="fold-docs">
<span class="md-text">				Implicits maps nodes to their implicitly declared objects, if any.
				The following node and object types may appear:
				
				    node               declared object
				
				    *ast.ImportSpec    *PkgName for imports without renames
				    *ast.CaseClause    type-specific *Var for each type switch case clause (incl. default)
				    *ast.Field         anonymous parameter *Var (incl. unnamed results)</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-InitOrder"><label for="PackageInfo-fold-field-InitOrder"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-296">InitOrder</a> <i>[]*<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Initializer">Initializer</a></i></label><span id='PackageInfo-fold-field-InitOrder-docs' class="fold-docs">
<span class="md-text">				InitOrder is the list of package-level initializers in the order in which
				they must be executed. Initializers referring to variables related by an
				initialization dependency appear in topological order, the others appear
				in source order. Variables without an initialization expression do not
				appear in this list.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Instances"><label for="PackageInfo-fold-field-Instances"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-221">Instances</a> <i>map[*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Ident">Ident</a>]<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Instance">Instance</a></i></label><span id='PackageInfo-fold-field-Instances-docs' class="fold-docs">
<span class="md-text">				Instances maps identifiers denoting generic types or functions to their
				type arguments and instantiated type.
				
				For example, Instances will map the identifier for 'T' in the type
				instantiation T[int, string] to the type arguments [int, string] and
				resulting instantiated *Named type. Given a generic function
				func F[A any](A), Instances will map the identifier for 'F' in the call
				expression F(int(1)) to the inferred type arguments [int], and resulting
				instantiated *Signature.
				
				Invariant: Instantiating Uses[id].Type() with Instances[id].TypeArgs
				results in an equivalent of Instances[id].Type.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Scopes"><label for="PackageInfo-fold-field-Scopes"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-289">Scopes</a> <i>map[<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Node">Node</a>]*<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Scope">Scope</a></i></label><span id='PackageInfo-fold-field-Scopes-docs' class="fold-docs">
<span class="md-text">				Scopes maps ast.Nodes to the scopes they define. Package scopes are not
				associated with a specific node but with all files belonging to a package.
				Thus, the package scope can be found in the type-checked Package object.
				Scopes nest, with the Universe scope being the outermost scope, enclosing
				the package scope, which contains (one or more) files scopes, which enclose
				function scopes which in turn enclose statement and function literal scopes.
				Note that even though package-level functions are declared in the package
				scope, the function scopes are embedded in the file scope of the file
				containing the function declaration.
				
				The Scope of a function contains the declarations of any
				type parameters, parameters, and named results, plus any
				local declarations in the body block.
				It is coextensive with the complete extent of the
				function's syntax ([*ast.FuncDecl] or [*ast.FuncLit]).
				The Scopes mapping does not contain an entry for the
				function body ([*ast.BlockStmt]); the function's scope is
				associated with the [*ast.FuncType].
				
				The following node types may appear in Scopes:
				
				    *ast.File
				    *ast.FuncType
				    *ast.TypeSpec
				    *ast.BlockStmt
				    *ast.IfStmt
				    *ast.SwitchStmt
				    *ast.TypeSwitchStmt
				    *ast.CaseClause
				    *ast.CommClause
				    *ast.ForStmt
				    *ast.RangeStmt</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Selections"><label for="PackageInfo-fold-field-Selections"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-254">Selections</a> <i>map[*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-SelectorExpr">SelectorExpr</a>]*<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Selection">Selection</a></i></label><span id='PackageInfo-fold-field-Selections-docs' class="fold-docs">
<span class="md-text">				Selections maps selector expressions (excluding qualified identifiers)
				to their corresponding selections.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Types"><label for="PackageInfo-fold-field-Types"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-207">Types</a> <i>map[<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Expr">Expr</a>]<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-TypeAndValue">TypeAndValue</a></i></label><span id='PackageInfo-fold-field-Types-docs' class="fold-docs">
<span class="md-text">				Types maps expressions to their types, and for constant
				expressions, also their values. Invalid expressions are
				omitted.
				
				For (possibly parenthesized) identifiers denoting built-in
				functions, the recorded signatures are call-site specific:
				if the call result is not a constant, the recorded type is
				an argument-specific signature. Otherwise, the recorded type
				is invalid.
				
				The Types map does not record the type of every identifier,
				only those that appear where an arbitrary expression is
				permitted. For instance, the identifier f in a selector
				expression x.f is found only in the Selections map, the
				identifier z in a variable declaration 'var z int' is found
				only in the Defs map, and identifiers denoting packages in
				qualified identifiers are collected in the Uses map.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-Uses"><label for="PackageInfo-fold-field-Uses"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-188" class="path-duplicate">Info</a>.<a href="../../../../../src/go/types/api.go.html#line-239">Uses</a> <i>map[*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Ident">Ident</a>]<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Object">Object</a></i></label><span id='PackageInfo-fold-field-Uses-docs' class="fold-docs">
<span class="md-text">				Uses maps identifiers to the objects they denote.
				
				For an embedded field, Uses returns the *TypeName it denotes.
				
				Invariant: Uses[id].Pos() != id.Pos()</span>
</span></span><span>
			<span class="nodocs"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-183">Pkg</a> <i>*<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Package">Package</a></i></span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-field-TransitivelyErrorFree"><label for="PackageInfo-fold-field-TransitivelyErrorFree"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-185">TransitivelyErrorFree</a> <i><a href="../../../../builtin.html#name-bool">bool</a></i></label><span id='PackageInfo-fold-field-TransitivelyErrorFree-docs' class="fold-docs">
<span class="md-text">				// true if Pkg and all its dependencies are free of errors</span>
</span></span></span>
		<input type='checkbox' class="fold" id="PackageInfo-fold-methods"><label for="PackageInfo-fold-methods">Methods (<i>total 4</i>)</label><span id='PackageInfo-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-method-ObjectOf"><label for="PackageInfo-fold-method-ObjectOf">(*PackageInfo) <a href="../../../../../src/go/types/api.go.html#line-331">ObjectOf</a>(id *<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Ident">Ident</a>) <a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Object">Object</a></label><span id='PackageInfo-fold-method-ObjectOf-docs' class="fold-docs">
<span class="md-text">				ObjectOf returns the object denoted by the specified id,
				or nil if not found.
				
				If id is an embedded struct field, [Info.ObjectOf] returns the field (*[Var])
				it defines, not the type (*[TypeName]) it uses.
				
				Precondition: the Uses and Defs maps are populated.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-method-PkgNameOf"><label for="PackageInfo-fold-method-PkgNameOf">(*PackageInfo) <a href="../../../../../src/go/types/api.go.html#line-344">PkgNameOf</a>(imp *<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-ImportSpec">ImportSpec</a>) *<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-PkgName">PkgName</a></label><span id='PackageInfo-fold-method-PkgNameOf-docs' class="fold-docs">
<span class="md-text">				PkgNameOf returns the local package name defined by the import,
				or nil if not found.
				
				For dot-imports, the package name is ".".
				
				Precondition: the Defs and Implicts maps are populated.</span>
</span></span><span>
			<span class="nodocs">(*PackageInfo) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-195">String</a>() <a href="../../../../builtin.html#name-string">string</a></span></span><span>
			<input type='checkbox' class="fold" id="PackageInfo-fold-method-TypeOf"><label for="PackageInfo-fold-method-TypeOf">(*PackageInfo) <a href="../../../../../src/go/types/api.go.html#line-312">TypeOf</a>(e <a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Expr">Expr</a>) <a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Type">Type</a></label><span id='PackageInfo-fold-method-TypeOf-docs' class="fold-docs">
<span class="md-text">				TypeOf returns the type of expression e, or nil if not found.
				Precondition: the Types, Uses and Defs maps are populated.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="PackageInfo-fold-impls"><label for="PackageInfo-fold-impls">Implements (<i>at least one exported</i>)</label><span id='PackageInfo-fold-impls-items' class="fold-items"><span>
			*PackageInfo : fmt.<a href="../../../../fmt.html#name-Stringer">Stringer</a></span></span>
		<input type='checkbox' class="fold" id="PackageInfo-fold-results"><label for="PackageInfo-fold-results">As Outputs Of (<i>at least 3</i>)</label><span id='PackageInfo-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-Program">Program</a>).<a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-363">InitialPackages</a>() []*<b>PackageInfo</b></span><span>
			func (*<a href="#name-Program">Program</a>).<a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-374">Package</a>(path <a href="../../../../builtin.html#name-string">string</a>) *<b>PackageInfo</b></span><span>
			func (*<a href="#name-Program">Program</a>).<a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-341">PathEnclosingInterval</a>(start, end <a href="../../../../go/token.html">token</a>.<a href="../../../../go/token.html#name-Pos">Pos</a>) (pkg *<b>PackageInfo</b>, path []<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Node">Node</a>, exact <a href="../../../../builtin.html#name-bool">bool</a>)</span></span>

</span></div><div class="anchor type-res" id="name-PkgSpec" data-popularity="0">	<input type='checkbox' class="fold" id="PkgSpec-fold-content"><label for="PkgSpec-fold-content"> type <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-138">PkgSpec</a> <i>(struct)</i></label><span id='PkgSpec-fold-content-docs' class="fold-docs">
<span class="md-text">		A PkgSpec specifies a non-importable package to be created by Load.
		Files are processed first, but typically only one of Files and
		Filenames is provided.  The path needn't be globally unique.
		
		For vendoring purposes, the package's directory is the one that
		contains the first file.</span>

		<input type='checkbox' class="fold" id="PkgSpec-fold-fields"><label for="PkgSpec-fold-fields">Fields (<i>total 3</i>)</label><span id='PkgSpec-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="PkgSpec-fold-field-Filenames"><label for="PkgSpec-fold-field-Filenames"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-141">Filenames</a> <i>[]<a href="../../../../builtin.html#name-string">string</a></i></label><span id='PkgSpec-fold-field-Filenames-docs' class="fold-docs">
<span class="md-text">				// names of files to be parsed</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PkgSpec-fold-field-Files"><label for="PkgSpec-fold-field-Files"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-140">Files</a> <i>[]*<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-File">File</a></i></label><span id='PkgSpec-fold-field-Files-docs' class="fold-docs">
<span class="md-text">				// ASTs of already-parsed files</span>
</span></span><span>
			<input type='checkbox' class="fold" id="PkgSpec-fold-field-Path"><label for="PkgSpec-fold-field-Path"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-139">Path</a> <i><a href="../../../../builtin.html#name-string">string</a></i></label><span id='PkgSpec-fold-field-Path-docs' class="fold-docs">
<span class="md-text">				// package path ("" =&gt; use package declaration)</span>
</span></span></span>

</span></div><div class="anchor type-res" id="name-Program" data-popularity="225">	<input type='checkbox' class="fold" id="Program-fold-content"><label for="Program-fold-content"> type <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-145">Program</a> <i>(struct)</i></label><span id='Program-fold-content-docs' class="fold-docs">
<span class="md-text">		A Program is a Go program loaded from source as specified by a Config.</span>

		<input type='checkbox' class="fold" id="Program-fold-fields"><label for="Program-fold-fields">Fields (<i>total 4</i>)</label><span id='Program-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Program-fold-field-AllPackages"><label for="Program-fold-field-AllPackages"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-170">AllPackages</a> <i>map[*<a href="../../../../go/types.html">types</a>.<a href="../../../../go/types.html#name-Package">Package</a>]*<a href="#name-PackageInfo">PackageInfo</a></i></label><span id='Program-fold-field-AllPackages-docs' class="fold-docs">
<span class="md-text">				AllPackages contains the PackageInfo of every package
				encountered by Load: all initial packages and all
				dependencies, including incomplete ones.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Program-fold-field-Created"><label for="Program-fold-field-Created"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-161">Created</a> <i>[]*<a href="#name-PackageInfo">PackageInfo</a></i></label><span id='Program-fold-field-Created-docs' class="fold-docs">
<span class="md-text">				Created[i] contains the initial package whose ASTs or
				filenames were supplied by Config.CreatePkgs[i], followed by
				the external test package, if any, of each package in
				Config.ImportPkgs ordered by ImportPath.
				
				NOTE: these files must not import "C".  Cgo preprocessing is
				only performed on imported packages, not ad hoc packages.
				
				TODO(adonovan): we need to copy and adapt the logic of
				goFilesPackage (from $GOROOT/src/cmd/go/build.go) and make
				Config.Import and Config.Create methods return the same kind
				of entity, essentially a build.Package.
				Perhaps we can even reuse that type directly.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Program-fold-field-Fset"><label for="Program-fold-field-Fset"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-146">Fset</a> <i>*<a href="../../../../go/token.html">token</a>.<a href="../../../../go/token.html#name-FileSet">FileSet</a></i></label><span id='Program-fold-field-Fset-docs' class="fold-docs">
<span class="md-text">				// the file set for this program</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Program-fold-field-Imported"><label for="Program-fold-field-Imported"><a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-165">Imported</a> <i>map[<a href="../../../../builtin.html#name-string">string</a>]*<a href="#name-PackageInfo">PackageInfo</a></i></label><span id='Program-fold-field-Imported-docs' class="fold-docs">
<span class="md-text">				Imported contains the initially imported packages,
				as specified by Config.ImportPkgs.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Program-fold-methods"><label for="Program-fold-methods">Methods (<i>total 3</i>)</label><span id='Program-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Program-fold-method-InitialPackages"><label for="Program-fold-method-InitialPackages">(*Program) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-363">InitialPackages</a>() []*<a href="#name-PackageInfo">PackageInfo</a></label><span id='Program-fold-method-InitialPackages-docs' class="fold-docs">
<span class="md-text">				InitialPackages returns a new slice containing the set of initial
				packages (Created + Imported) in unspecified order.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Program-fold-method-Package"><label for="Program-fold-method-Package">(*Program) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-374">Package</a>(path <a href="../../../../builtin.html#name-string">string</a>) *<a href="#name-PackageInfo">PackageInfo</a></label><span id='Program-fold-method-Package-docs' class="fold-docs">
<span class="md-text">				Package returns the ASTs and results of type checking for the
				specified package.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Program-fold-method-PathEnclosingInterval"><label for="Program-fold-method-PathEnclosingInterval">(*Program) <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-341">PathEnclosingInterval</a>(start, end <a href="../../../../go/token.html">token</a>.<a href="../../../../go/token.html#name-Pos">Pos</a>) (pkg *<a href="#name-PackageInfo">PackageInfo</a>, path []<a href="../../../../go/ast.html">ast</a>.<a href="../../../../go/ast.html#name-Node">Node</a>, exact <a href="../../../../builtin.html#name-bool">bool</a>)</label><span id='Program-fold-method-PathEnclosingInterval-docs' class="fold-docs">
<span class="md-text">				PathEnclosingInterval returns the PackageInfo and ast.Node that
				contain source interval [start, end), and all the node's ancestors
				up to the AST root.  It searches all ast.Files of all packages in prog.
				exact is defined as for astutil.PathEnclosingInterval.
				
				The zero value is returned if not found.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Program-fold-results"><label for="Program-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Program-fold-results-items' class="fold-items"><span>
			func (*<a href="#name-Config">Config</a>).<a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-468">Load</a>() (*<b>Program</b>, <a href="../../../../builtin.html#name-error">error</a>)</span></span>

</span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (only one)</i></span></span>

<div class="anchor value-res" id="name-FromArgsUsage">	<input type='checkbox' class="fold" id="FromArgsUsage-fold-content"><label for="FromArgsUsage-fold-content">const <a href="../../../../../src/golang.org/x/tools/go/loader/loader.go.html#line-226">FromArgsUsage</a> = "\n<args> is a list of arguments denoting a set of initial packages.\...</label><span id='FromArgsUsage-fold-content-docs' class="fold-docs">
<span class="md-text">		FromArgsUsage is a partial usage message that applications calling
		FromArgs may wish to include in their -help output.</span>

</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.8</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>