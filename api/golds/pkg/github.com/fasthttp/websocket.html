<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/fasthttp/websocket</title>
<link href="../../../css/dark-v0.6.8.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.6.8.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>websocket</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-github.com/fasthttp/websocket">github.com/fasthttp/websocket</a><i> (on <a href="https://pkg.go.dev/github.com/fasthttp/websocket" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/github.com/fasthttp/websocket.html">27 packages</a>, and imported by <a href="../../../dep/github.com/fasthttp/websocket.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/client.go.html">client.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/compression.go.html">compression.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/conn.go.html">conn.go</a></span>
	<input type='checkbox' checked class="fold" id="file-3-fold-content"><label for="file-3-fold-content">  <a href="../../../src/github.com/fasthttp/websocket/doc.go.html#doc">d</a> <a href="../../../src/github.com/fasthttp/websocket/doc.go.html">doc.go</a></label><span id='file-3-fold-content-items' class="fold-items">
<span class="md-text">		Package websocket implements the WebSocket protocol defined in RFC 6455.
		
		Overview
		
		The Conn type represents a WebSocket connection. A server application calls
		the Upgrader.Upgrade method from an HTTP request handler to get a *Conn:
		
		net/http
		
		 var upgrader = websocket.Upgrader{
		     ReadBufferSize:  1024,
		     WriteBufferSize: 1024,
		 }
		
		 func handler(w http.ResponseWriter, r *http.Request) {
		     conn, err := upgrader.Upgrade(w, r, nil)
		     if err != nil {
		         log.Println(err)
		         return
		     }
		     ... Use conn to send and receive messages.
		 }
		
		valyala/fasthttp
		
		 var upgrader = websocket.FastHTTPUpgrader{
		     ReadBufferSize:  1024,
		     WriteBufferSize: 1024,
		 }
		
		 func handler(ctx *fasthttp.RequestCtx) {
		     err := upgrader.Upgrade(ctx, func(conn *websocket.Conn) {
					... Use conn to send and receive messages.
				})
		     if err != nil {
		         log.Println(err)
		         return
		     }
		 }
		
		Call the connection's WriteMessage and ReadMessage methods to send and
		receive messages as a slice of bytes. This snippet of code shows how to echo
		messages using these methods:
		
		 for {
		     messageType, p, err := conn.ReadMessage()
		     if err != nil {
		         log.Println(err)
		         return
		     }
		     if err := conn.WriteMessage(messageType, p); err != nil {
		         log.Println(err)
		         return
		     }
		 }
		
		In above snippet of code, p is a []byte and messageType is an int with value
		websocket.BinaryMessage or websocket.TextMessage.
		
		An application can also send and receive messages using the io.WriteCloser
		and io.Reader interfaces. To send a message, call the connection NextWriter
		method to get an io.WriteCloser, write the message to the writer and close
		the writer when done. To receive a message, call the connection NextReader
		method to get an io.Reader and read until io.EOF is returned. This snippet
		shows how to echo messages using the NextWriter and NextReader methods:
		
		 for {
		     messageType, r, err := conn.NextReader()
		     if err != nil {
		         return
		     }
		     w, err := conn.NextWriter(messageType)
		     if err != nil {
		         return err
		     }
		     if _, err := io.Copy(w, r); err != nil {
		         return err
		     }
		     if err := w.Close(); err != nil {
		         return err
		     }
		 }
		
		Data Messages
		
		The WebSocket protocol distinguishes between text and binary data messages.
		Text messages are interpreted as UTF-8 encoded text. The interpretation of
		binary messages is left to the application.
		
		This package uses the TextMessage and BinaryMessage integer constants to
		identify the two data message types. The ReadMessage and NextReader methods
		return the type of the received message. The messageType argument to the
		WriteMessage and NextWriter methods specifies the type of a sent message.
		
		It is the application's responsibility to ensure that text messages are
		valid UTF-8 encoded text.
		
		Control Messages
		
		The WebSocket protocol defines three types of control messages: close, ping
		and pong. Call the connection WriteControl, WriteMessage or NextWriter
		methods to send a control message to the peer.
		
		Connections handle received close messages by calling the handler function
		set with the SetCloseHandler method and by returning a *CloseError from the
		NextReader, ReadMessage or the message Read method. The default close
		handler sends a close message to the peer.
		
		Connections handle received ping messages by calling the handler function
		set with the SetPingHandler method. The default ping handler sends a pong
		message to the peer.
		
		Connections handle received pong messages by calling the handler function
		set with the SetPongHandler method. The default pong handler does nothing.
		If an application sends ping messages, then the application should set a
		pong handler to receive the corresponding pong.
		
		The control message handler functions are called from the NextReader,
		ReadMessage and message reader Read methods. The default close and ping
		handlers can block these methods for a short time when the handler writes to
		the connection.
		
		The application must read the connection to process close, ping and pong
		messages sent from the peer. If the application is not otherwise interested
		in messages from the peer, then the application should start a goroutine to
		read and discard messages from the peer. A simple example is:
		
		 func readLoop(c *websocket.Conn) {
		     for {
		         if _, _, err := c.NextReader(); err != nil {
		             c.Close()
		             break
		         }
		     }
		 }
		
		Concurrency
		
		Connections support one concurrent reader and one concurrent writer.
		
		Applications are responsible for ensuring that no more than one goroutine
		calls the write methods (NextWriter, SetWriteDeadline, WriteMessage,
		WriteJSON, EnableWriteCompression, SetCompressionLevel) concurrently and
		that no more than one goroutine calls the read methods (NextReader,
		SetReadDeadline, ReadMessage, ReadJSON, SetPongHandler, SetPingHandler)
		concurrently.
		
		The Close and WriteControl methods can be called concurrently with all other
		methods.
		
		Origin Considerations
		
		Web browsers allow Javascript applications to open a WebSocket connection to
		any host. It's up to the server to enforce an origin policy using the Origin
		request header sent by the browser.
		
		The Upgrader calls the function specified in the CheckOrigin field to check
		the origin. If the CheckOrigin function returns false, then the Upgrade
		method fails the WebSocket handshake with HTTP status 403.
		
		If the CheckOrigin field is nil, then the Upgrader uses a safe default: fail
		the handshake if the Origin request header is present and the Origin host is
		not equal to the Host request header.
		
		The deprecated package-level Upgrade function does not perform origin
		checking. The application is responsible for checking the Origin header
		before calling the Upgrade function.
		
		Buffers
		
		Connections buffer network input and output to reduce the number
		of system calls when reading or writing messages.
		
		Write buffers are also used for constructing WebSocket frames. See RFC 6455,
		Section 5 for a discussion of message framing. A WebSocket frame header is
		written to the network each time a write buffer is flushed to the network.
		Decreasing the size of the write buffer can increase the amount of framing
		overhead on the connection.
		
		The buffer sizes in bytes are specified by the ReadBufferSize and
		WriteBufferSize fields in the Dialer and Upgrader. The Dialer uses a default
		size of 4096 when a buffer size field is set to zero. The Upgrader reuses
		buffers created by the HTTP server when a buffer size field is set to zero.
		The HTTP server buffers have a size of 4096 at the time of this writing.
		
		The buffer sizes do not limit the size of a message that can be read or
		written by a connection.
		
		Buffers are held for the lifetime of the connection by default. If the
		Dialer or Upgrader WriteBufferPool field is set, then a connection holds the
		write buffer only when writing a message.
		
		Applications should tune the buffer sizes to balance memory use and
		performance. Increasing the buffer size uses more memory, but can reduce the
		number of system calls to read or write the network. In the case of writing,
		increasing the buffer size can reduce the number of frame headers written to
		the network.
		
		Some guidelines for setting buffer parameters are:
		
		Limit the buffer sizes to the maximum expected message size. Buffers larger
		than the largest message do not provide any benefit.
		
		Depending on the distribution of message sizes, setting the buffer size to
		a value less than the maximum expected message size can greatly reduce memory
		use with a small impact on performance. Here's an example: If 99% of the
		messages are smaller than 256 bytes and the maximum message size is 512
		bytes, then a buffer size of 256 bytes will result in 1.01 more system calls
		than a buffer size of 512 bytes. The memory savings is 50%.
		
		A write buffer pool is useful when the application has a modest number
		writes over a large number of connections. when buffers are pooled, a larger
		buffer size has a reduced impact on total memory use and has the benefit of
		reducing system calls and frame overhead.
		
		Compression EXPERIMENTAL
		
		Per message compression extensions (RFC 7692) are experimentally supported
		by this package in a limited capacity. Setting the EnableCompression option
		to true in Dialer or Upgrader will attempt to negotiate per message deflate
		support.
		
		 var upgrader = websocket.Upgrader{
		     EnableCompression: true,
		 }
		
		If compression was successfully negotiated with the connection's peer, any
		message received in compressed form will be automatically decompressed.
		All Read methods will return uncompressed bytes.
		
		Per message compression of messages written to a connection can be enabled
		or disabled by calling the corresponding Conn method:
		
		 conn.EnableWriteCompression(false)
		
		Currently this package does not support compression with "context takeover".
		This means that messages must be compressed and decompressed in isolation,
		without retaining sliding window or dictionary state across messages. For
		more details refer to RFC 7692.
		
		Use of compression is experimental and may result in decreased performance.</span>
</span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/errors.go.html">errors.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/join.go.html">join.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/json.go.html">json.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/mask.go.html">mask.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/prepared.go.html">prepared.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/proxy.go.html">proxy.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/server.go.html">server.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html">server_fasthttp.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/tls_handshake.go.html">tls_handshake.go</a></span>
	<span class="nodocs">    <a href="../../../src/github.com/fasthttp/websocket/util.go.html">util.go</a></span></div>
<div id="examples"><span class="title">Code Examples</span>

	<input type='checkbox' class="fold" id="example-0-fold-content"><label for="example-0-fold-content">IsUnexpectedCloseError</label><span id='example-0-fold-content-items' class="fold-items">
		package main
		
		import (
			"log"
			"net/http"
		
			"github.com/fasthttp/websocket"
		)
		
		var (
			c   *websocket.Conn
			req *http.Request
		)
		
		func main() {
			for {
				messageType, p, err := c.ReadMessage()
				if err != nil {
					if websocket.IsUnexpectedCloseError(err, websocket.CloseGoingAway) {
						log.Printf("error: %v, user-agent: %v", err, req.Header.Get("User-Agent"))
					}
					return
				}
				processMessage(messageType, p)
			}
		}
		
		func processMessage(mt int, p []byte) {}
</span>
</div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 9)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-BufferPool" data-popularity="450">	<input type='checkbox' class="fold" id="BufferPool-fold-content"><label for="BufferPool-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-236">BufferPool</a> <b><i>(interface)</i></b></label><span id='BufferPool-fold-content-docs' class="fold-docs">
<span class="md-text">		BufferPool represents a pool of buffers. The *sync.Pool type satisfies this
		interface.  The type of the value stored in a pool is not specified.</span>

		<input type='checkbox' class="fold" id="BufferPool-fold-methods"><label for="BufferPool-fold-methods">Methods (<i>total 2</i>)</label><span id='BufferPool-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( BufferPool) <a href="../../../src/gorm.io/gorm/schema/interfaces.go.html#line-20">Get</a>() interface{}</span></span><span>
			<span class="nodocs">( BufferPool) <a href="../../../src/gorm.io/gorm/schema/interfaces.go.html#line-21">Put</a>(interface{})</span></span></span>
		<input type='checkbox' class="fold" id="BufferPool-fold-impledby"><label for="BufferPool-fold-impledby">Implemented By (<i>at least 2</i>)</label><span id='BufferPool-fold-impledby-items' class="fold-items"><span>
			 gorm.io/gorm/schema.<a href="../../gorm.io/gorm/schema.html#name-FieldNewValuePool">FieldNewValuePool</a> <i>(interface)</i></span><span>
			*sync.<a href="../../sync.html#name-Pool">Pool</a></span></span>
		<input type='checkbox' class="fold" id="BufferPool-fold-impls"><label for="BufferPool-fold-impls">Implements (<i>at least one exported</i>)</label><span id='BufferPool-fold-impls-items' class="fold-items"><span>
			 BufferPool : gorm.io/gorm/schema.<a href="../../gorm.io/gorm/schema.html#name-FieldNewValuePool">FieldNewValuePool</a></span></span>

</span></div><div class="anchor type-res" id="name-CloseError" data-popularity="100">	<input type='checkbox' class="fold" id="CloseError-fold-content"><label for="CloseError-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-105">CloseError</a> <i>(struct)</i></label><span id='CloseError-fold-content-docs' class="fold-docs">
<span class="md-text">		CloseError represents a close message.</span>

		<input type='checkbox' class="fold" id="CloseError-fold-fields"><label for="CloseError-fold-fields">Fields (<i>total 2</i>)</label><span id='CloseError-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="CloseError-fold-field-Code"><label for="CloseError-fold-field-Code"><a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-107">Code</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='CloseError-fold-field-Code-docs' class="fold-docs">
<span class="md-text">				Code is defined in RFC 6455, section 11.7.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="CloseError-fold-field-Text"><label for="CloseError-fold-field-Text"><a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-110">Text</a> <i><a href="../../builtin.html#name-string">string</a></i></label><span id='CloseError-fold-field-Text-docs' class="fold-docs">
<span class="md-text">				Text is the optional text payload.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="CloseError-fold-methods"><label for="CloseError-fold-methods">Methods (<i>only one</i>)</label><span id='CloseError-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">(*CloseError) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-113">Error</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="CloseError-fold-impls"><label for="CloseError-fold-impls">Implements (<i>at least one exported</i>)</label><span id='CloseError-fold-impls-items' class="fold-items"><span>
			*CloseError : <a href="../../builtin.html#name-error">error</a></span></span>

</span></div><div class="anchor type-res" id="name-Conn" data-popularity="1815">	<input type='checkbox' class="fold" id="Conn-fold-content"><label for="Conn-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-249">Conn</a> <i>(struct)</i></label><span id='Conn-fold-content-docs' class="fold-docs">
<span class="md-text">		The Conn type represents a WebSocket connection.</span>

		<input type='checkbox' class="fold" id="Conn-fold-methods"><label for="Conn-fold-methods">Methods (<i>total 25</i>)</label><span id='Conn-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-Close"><label for="Conn-fold-method-Close">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-354">Close</a>() <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-Close-docs' class="fold-docs">
<span class="md-text">				Close closes the underlying network connection without sending or waiting
				for a close message.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-CloseHandler"><label for="Conn-fold-method-CloseHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1213">CloseHandler</a>() func(code <a href="../../builtin.html#name-int">int</a>, text <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-CloseHandler-docs' class="fold-docs">
<span class="md-text">				CloseHandler returns the current close handler</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-EnableWriteCompression"><label for="Conn-fold-method-EnableWriteCompression">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1332">EnableWriteCompression</a>(enable <a href="../../builtin.html#name-bool">bool</a>)</label><span id='Conn-fold-method-EnableWriteCompression-docs' class="fold-docs">
<span class="md-text">				EnableWriteCompression enables and disables write compression of
				subsequent text and binary messages. This function is a noop if
				compression was not negotiated with the peer.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-LocalAddr"><label for="Conn-fold-method-LocalAddr">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-365">LocalAddr</a>() <a href="../../net.html">net</a>.<a href="../../net.html#name-Addr">Addr</a></label><span id='Conn-fold-method-LocalAddr-docs' class="fold-docs">
<span class="md-text">				LocalAddr returns the local network address.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-NetConn"><label for="Conn-fold-method-NetConn">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1312">NetConn</a>() <a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a></label><span id='Conn-fold-method-NetConn-docs' class="fold-docs">
<span class="md-text">				NetConn returns the underlying connection that is wrapped by c.
				Note that writing to or reading from this connection directly will corrupt the
				WebSocket connection.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-NextReader"><label for="Conn-fold-method-NextReader">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1072">NextReader</a>() (messageType <a href="../../builtin.html#name-int">int</a>, r <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a>, err <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-NextReader-docs' class="fold-docs">
<span class="md-text">				NextReader returns the next data message received from the peer. The
				returned messageType is either TextMessage or BinaryMessage.
				
				There can be at most one open reader on a connection. NextReader discards
				the previous message if the application has not already consumed it.
				
				Applications must break out of the application's read loop when this method
				returns a non-nil error value. Errors returned from this method are
				permanent. Once this method returns a non-nil error, all subsequent calls to
				this method return the same error.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-NextWriter"><label for="Conn-fold-method-NextWriter">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-567">NextWriter</a>(messageType <a href="../../builtin.html#name-int">int</a>) (<a href="../../io.html">io</a>.<a href="../../io.html#name-WriteCloser">WriteCloser</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-NextWriter-docs' class="fold-docs">
<span class="md-text">				NextWriter returns a writer for the next message to send. The writer's Close
				method flushes the complete message to the network.
				
				There can be at most one open writer on a connection. NextWriter closes the
				previous writer if the application has not already done so.
				
				All message types (TextMessage, BinaryMessage, CloseMessage, PingMessage and
				PongMessage) are supported.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-PingHandler"><label for="Conn-fold-method-PingHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1252">PingHandler</a>() func(appData <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-PingHandler-docs' class="fold-docs">
<span class="md-text">				PingHandler returns the current ping handler</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-PongHandler"><label for="Conn-fold-method-PongHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1285">PongHandler</a>() func(appData <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-PongHandler-docs' class="fold-docs">
<span class="md-text">				PongHandler returns the current pong handler</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-ReadJSON"><label for="Conn-fold-method-ReadJSON">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/json.go.html#line-49">ReadJSON</a>(v interface{}) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-ReadJSON-docs' class="fold-docs">
<span class="md-text">				ReadJSON reads the next JSON-encoded message from the connection and stores
				it in the value pointed to by v.
				
				See the documentation for the encoding/json Unmarshal function for details
				about the conversion of JSON to a Go value.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-ReadMessage"><label for="Conn-fold-method-ReadMessage">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1175">ReadMessage</a>() (messageType <a href="../../builtin.html#name-int">int</a>, p []<a href="../../builtin.html#name-byte">byte</a>, err <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-ReadMessage-docs' class="fold-docs">
<span class="md-text">				ReadMessage is a helper method for getting a reader using NextReader and
				reading from that reader to a buffer.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-RemoteAddr"><label for="Conn-fold-method-RemoteAddr">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-373">RemoteAddr</a>() <a href="../../net.html">net</a>.<a href="../../net.html#name-Addr">Addr</a></label><span id='Conn-fold-method-RemoteAddr-docs' class="fold-docs">
<span class="md-text">				RemoteAddr returns the remote network address.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetCloseHandler"><label for="Conn-fold-method-SetCloseHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1234">SetCloseHandler</a>(h func(code <a href="../../builtin.html#name-int">int</a>, text <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-SetCloseHandler-docs' class="fold-docs">
<span class="md-text">				SetCloseHandler sets the handler for close messages received from the peer.
				The code argument to h is the received close code or CloseNoStatusReceived
				if the close message is empty. The default close handler sends a close
				message back to the peer.
				
				The handler function is called from the NextReader, ReadMessage and message
				reader Read methods. The application must read the connection to process
				close messages as described in the section on Control Messages above.
				
				The connection read methods return a CloseError when a close message is
				received. Most applications should handle close messages as part of their
				normal error handling. Applications should only set a close handler when the
				application must perform some action before sending a close message back to
				the peer.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetCompressionLevel"><label for="Conn-fold-method-SetCompressionLevel">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1343">SetCompressionLevel</a>(level <a href="../../builtin.html#name-int">int</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-SetCompressionLevel-docs' class="fold-docs">
<span class="md-text">				SetCompressionLevel sets the flate compression level for subsequent text and
				binary messages. This function is a noop if compression was not negotiated
				with the peer. See the github.com/klauspost/compress/flate package for a description of
				compression levels.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetPingHandler"><label for="Conn-fold-method-SetPingHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1266">SetPingHandler</a>(h func(appData <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-SetPingHandler-docs' class="fold-docs">
<span class="md-text">				SetPingHandler sets the handler for ping messages received from the peer.
				The appData argument to h is the PING message application data. The default
				ping handler sends a pong to the peer.
				
				The handler function is called from the NextReader, ReadMessage and message
				reader Read methods. The application must read the connection to process
				ping messages as described in the section on Control Messages above.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetPongHandler"><label for="Conn-fold-method-SetPongHandler">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1299">SetPongHandler</a>(h func(appData <a href="../../builtin.html#name-string">string</a>) <a href="../../builtin.html#name-error">error</a>)</label><span id='Conn-fold-method-SetPongHandler-docs' class="fold-docs">
<span class="md-text">				SetPongHandler sets the handler for pong messages received from the peer.
				The appData argument to h is the PONG message application data. The default
				pong handler does nothing.
				
				The handler function is called from the NextReader, ReadMessage and message
				reader Read methods. The application must read the connection to process
				pong messages as described in the section on Control Messages above.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetReadDeadline"><label for="Conn-fold-method-SetReadDeadline">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1192">SetReadDeadline</a>(t <a href="../../time.html">time</a>.<a href="../../time.html#name-Time">Time</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-SetReadDeadline-docs' class="fold-docs">
<span class="md-text">				SetReadDeadline sets the read deadline on the underlying network connection.
				After a read has timed out, the websocket connection state is corrupt and
				all future reads will return an error. A zero value for t means reads will
				not time out.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetReadLimit"><label for="Conn-fold-method-SetReadLimit">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1205">SetReadLimit</a>(limit <a href="../../builtin.html#name-int64">int64</a>)</label><span id='Conn-fold-method-SetReadLimit-docs' class="fold-docs">
<span class="md-text">				SetReadLimit sets the maximum size in bytes for a message read from the peer. If a
				message exceeds the limit, the connection sends a close message to the peer
				and returns ErrReadLimit to the application.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-SetWriteDeadline"><label for="Conn-fold-method-SetWriteDeadline">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-847">SetWriteDeadline</a>(t <a href="../../time.html">time</a>.<a href="../../time.html#name-Time">Time</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-SetWriteDeadline-docs' class="fold-docs">
<span class="md-text">				SetWriteDeadline sets the write deadline on the underlying network
				connection. After a write has timed out, the websocket state is corrupt and
				all future writes will return an error. A zero value for t means writes will
				not time out.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-Subprotocol"><label for="Conn-fold-method-Subprotocol">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-345">Subprotocol</a>() <a href="../../builtin.html#name-string">string</a></label><span id='Conn-fold-method-Subprotocol-docs' class="fold-docs">
<span class="md-text">				Subprotocol returns the negotiated protocol for the connection.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-UnderlyingConn"><label for="Conn-fold-method-UnderlyingConn">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1322">UnderlyingConn</a>() <a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a></label><span id='Conn-fold-method-UnderlyingConn-docs' class="fold-docs">
<span class="md-text">				UnderlyingConn returns the internal net.Conn. This can be used to further
				modifications to connection specific flags.
				Deprecated: Use the NetConn method.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-WriteControl"><label for="Conn-fold-method-WriteControl">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-450">WriteControl</a>(messageType <a href="../../builtin.html#name-int">int</a>, data []<a href="../../builtin.html#name-byte">byte</a>, deadline <a href="../../time.html">time</a>.<a href="../../time.html#name-Time">Time</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-WriteControl-docs' class="fold-docs">
<span class="md-text">				WriteControl writes a control message with the given deadline. The allowed
				message types are CloseMessage, PingMessage and PongMessage.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-WriteJSON"><label for="Conn-fold-method-WriteJSON">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/json.go.html#line-23">WriteJSON</a>(v interface{}) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-WriteJSON-docs' class="fold-docs">
<span class="md-text">				WriteJSON writes the JSON encoding of v as a message.
				
				See the documentation for encoding/json Marshal for details about the
				conversion of Go values to JSON.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-WriteMessage"><label for="Conn-fold-method-WriteMessage">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-816">WriteMessage</a>(messageType <a href="../../builtin.html#name-int">int</a>, data []<a href="../../builtin.html#name-byte">byte</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-WriteMessage-docs' class="fold-docs">
<span class="md-text">				WriteMessage is a helper method for getting a writer using NextWriter,
				writing the message and closing the writer.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Conn-fold-method-WritePreparedMessage"><label for="Conn-fold-method-WritePreparedMessage">(*Conn) <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-790">WritePreparedMessage</a>(pm *<a href="#name-PreparedMessage">PreparedMessage</a>) <a href="../../builtin.html#name-error">error</a></label><span id='Conn-fold-method-WritePreparedMessage-docs' class="fold-docs">
<span class="md-text">				WritePreparedMessage writes prepared message into connection.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-impls"><label for="Conn-fold-impls">Implements (<i>at least one exported</i>)</label><span id='Conn-fold-impls-items' class="fold-items"><span>
			*Conn : io.<a href="../../io.html#name-Closer">Closer</a></span></span>
		<input type='checkbox' class="fold" id="Conn-fold-results"><label for="Conn-fold-results">As Outputs Of (<i>at least 5</i>)</label><span id='Conn-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewClient">NewClient</a>(netConn <a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a>, u *<a href="../../net/url.html">url</a>.<a href="../../net/url.html#name-URL">URL</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>, readBufSize, writeBufSize <a href="../../builtin.html#name-int">int</a>) (c *<b>Conn</b>, response *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, err <a href="../../builtin.html#name-error">error</a>)</span><span>
			func <a href="#name-Upgrade">Upgrade</a>(w <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-ResponseWriter">ResponseWriter</a>, r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>, responseHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>, readBufSize, writeBufSize <a href="../../builtin.html#name-int">int</a>) (*<b>Conn</b>, <a href="../../builtin.html#name-error">error</a>)</span><span>
			func (*<a href="#name-Dialer">Dialer</a>).<a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-118">Dial</a>(urlStr <a href="../../builtin.html#name-string">string</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<b>Conn</b>, *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, <a href="../../builtin.html#name-error">error</a>)</span><span>
			func (*<a href="#name-Dialer">Dialer</a>).<a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-162">DialContext</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, urlStr <a href="../../builtin.html#name-string">string</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<b>Conn</b>, *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, <a href="../../builtin.html#name-error">error</a>)</span><span>
			func (*<a href="#name-Upgrader">Upgrader</a>).<a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-128">Upgrade</a>(w <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-ResponseWriter">ResponseWriter</a>, r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>, responseHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<b>Conn</b>, <a href="../../builtin.html#name-error">error</a>)</span></span>
		<input type='checkbox' class="fold" id="Conn-fold-params"><label for="Conn-fold-params">As Inputs Of (<i>at least 4</i>)</label><span id='Conn-fold-params-items' class="fold-items"><span>
			func <a href="#name-JoinMessages">JoinMessages</a>(c *<b>Conn</b>, term <a href="../../builtin.html#name-string">string</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a></span><span>
			func <a href="#name-ReadJSON">ReadJSON</a>(c *<b>Conn</b>, v interface{}) <a href="../../builtin.html#name-error">error</a></span><span>
			func <a href="#name-WriteJSON">WriteJSON</a>(c *<b>Conn</b>, v interface{}) <a href="../../builtin.html#name-error">error</a></span><span>
			func github.com/gofiber/contrib/websocket.<a href="../gofiber/contrib/websocket.html#name-JoinMessages">JoinMessages</a>(c *<b>Conn</b>, term <a href="../../builtin.html#name-string">string</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a></span></span>

</span></div><div class="anchor type-res" id="name-Dialer" data-popularity="105">	<input type='checkbox' class="fold" id="Dialer-fold-content"><label for="Dialer-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-56">Dialer</a> <i>(struct)</i></label><span id='Dialer-fold-content-docs' class="fold-docs">
<span class="md-text">		A Dialer contains options for connecting to WebSocket server.
		
		It is safe to call Dialer's methods concurrently.</span>

		<input type='checkbox' class="fold" id="Dialer-fold-fields"><label for="Dialer-fold-fields">Fields (<i>total 12</i>)</label><span id='Dialer-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-EnableCompression"><label for="Dialer-fold-field-EnableCompression"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-109">EnableCompression</a> <i><a href="../../builtin.html#name-bool">bool</a></i></label><span id='Dialer-fold-field-EnableCompression-docs' class="fold-docs">
<span class="md-text">				EnableCompression specifies if the client should attempt to negotiate
				per message compression (RFC 7692). Setting this value to true does not
				guarantee that compression will be supported. Currently only "no context
				takeover" modes are supported.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-HandshakeTimeout"><label for="Dialer-fold-field-HandshakeTimeout"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-84">HandshakeTimeout</a> <i><a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a></i></label><span id='Dialer-fold-field-HandshakeTimeout-docs' class="fold-docs">
<span class="md-text">				HandshakeTimeout specifies the duration for the handshake to complete.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-Jar"><label for="Dialer-fold-field-Jar"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-114">Jar</a> <i><a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-CookieJar">CookieJar</a></i></label><span id='Dialer-fold-field-Jar-docs' class="fold-docs">
<span class="md-text">				Jar specifies the cookie jar.
				If Jar is nil, cookies are not sent in requests and ignored
				in responses.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-NetDial"><label for="Dialer-fold-field-NetDial"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-59">NetDial</a> <i>func(network, addr <a href="../../builtin.html#name-string">string</a>) (<a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a>, <a href="../../builtin.html#name-error">error</a>)</i></label><span id='Dialer-fold-field-NetDial-docs' class="fold-docs">
<span class="md-text">				NetDial specifies the dial function for creating TCP connections. If
				NetDial is nil, net.Dial is used.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-NetDialContext"><label for="Dialer-fold-field-NetDialContext"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-63">NetDialContext</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, network, addr <a href="../../builtin.html#name-string">string</a>) (<a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a>, <a href="../../builtin.html#name-error">error</a>)</i></label><span id='Dialer-fold-field-NetDialContext-docs' class="fold-docs">
<span class="md-text">				NetDialContext specifies the dial function for creating TCP connections. If
				NetDialContext is nil, NetDial is used.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-NetDialTLSContext"><label for="Dialer-fold-field-NetDialTLSContext"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-69">NetDialTLSContext</a> <i>func(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, network, addr <a href="../../builtin.html#name-string">string</a>) (<a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a>, <a href="../../builtin.html#name-error">error</a>)</i></label><span id='Dialer-fold-field-NetDialTLSContext-docs' class="fold-docs">
<span class="md-text">				NetDialTLSContext specifies the dial function for creating TLS/TCP connections. If
				NetDialTLSContext is nil, NetDialContext is used.
				If NetDialTLSContext is set, Dial assumes the TLS handshake is done there and
				TLSClientConfig is ignored.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-Proxy"><label for="Dialer-fold-field-Proxy"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-75">Proxy</a> <i>func(*<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>) (*<a href="../../net/url.html">url</a>.<a href="../../net/url.html#name-URL">URL</a>, <a href="../../builtin.html#name-error">error</a>)</i></label><span id='Dialer-fold-field-Proxy-docs' class="fold-docs">
<span class="md-text">				Proxy specifies a function to return a proxy for a given
				Request. If the function returns a non-nil error, the
				request is aborted with the provided error.
				If Proxy is nil or returns a nil *URL, no proxy is used.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-ReadBufferSize"><label for="Dialer-fold-field-ReadBufferSize"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-89">ReadBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='Dialer-fold-field-ReadBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then a useful default size is used. The I/O buffer sizes
				do not limit the size of the messages that can be sent or received.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-Subprotocols"><label for="Dialer-fold-field-Subprotocols"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-103">Subprotocols</a> <i>[]<a href="../../builtin.html#name-string">string</a></i></label><span id='Dialer-fold-field-Subprotocols-docs' class="fold-docs">
<span class="md-text">				Subprotocols specifies the client's requested subprotocols.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-TLSClientConfig"><label for="Dialer-fold-field-TLSClientConfig"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-81">TLSClientConfig</a> <i>*<a href="../../crypto/tls.html">tls</a>.<a href="../../crypto/tls.html#name-Config">Config</a></i></label><span id='Dialer-fold-field-TLSClientConfig-docs' class="fold-docs">
<span class="md-text">				TLSClientConfig specifies the TLS configuration to use with tls.Client.
				If nil, the default configuration is used.
				If either NetDialTLS or NetDialTLSContext are set, Dial assumes the TLS handshake
				is done there and TLSClientConfig is ignored.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-WriteBufferPool"><label for="Dialer-fold-field-WriteBufferPool"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-100">WriteBufferPool</a> <i><a href="#name-BufferPool">BufferPool</a></i></label><span id='Dialer-fold-field-WriteBufferPool-docs' class="fold-docs">
<span class="md-text">				WriteBufferPool is a pool of buffers for write operations. If the value
				is not set, then write buffers are allocated to the connection for the
				lifetime of the connection.
				
				A pool is most useful when the application has a modest volume of writes
				across a large number of connections.
				
				Applications should use a single pool for each unique value of
				WriteBufferSize.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-field-WriteBufferSize"><label for="Dialer-fold-field-WriteBufferSize"><a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-89">WriteBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='Dialer-fold-field-WriteBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then a useful default size is used. The I/O buffer sizes
				do not limit the size of the messages that can be sent or received.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Dialer-fold-methods"><label for="Dialer-fold-methods">Methods (<i>total 2</i>)</label><span id='Dialer-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Dialer-fold-method-Dial"><label for="Dialer-fold-method-Dial">(*Dialer) <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-118">Dial</a>(urlStr <a href="../../builtin.html#name-string">string</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<a href="#name-Conn">Conn</a>, *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Dialer-fold-method-Dial-docs' class="fold-docs">
<span class="md-text">				Dial creates a new client connection by calling DialContext with a background context.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Dialer-fold-method-DialContext"><label for="Dialer-fold-method-DialContext">(*Dialer) <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-162">DialContext</a>(ctx <a href="../../context.html">context</a>.<a href="../../context.html#name-Context">Context</a>, urlStr <a href="../../builtin.html#name-string">string</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<a href="#name-Conn">Conn</a>, *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Dialer-fold-method-DialContext-docs' class="fold-docs">
<span class="md-text">				DialContext creates a new client connection. Use requestHeader to specify the
				origin (Origin), subprotocols (Sec-WebSocket-Protocol) and cookies (Cookie).
				Use the response.Header to get the selected subprotocol
				(Sec-WebSocket-Protocol) and cookies (Set-Cookie).
				
				The context will be used in the request and in the Dialer.
				
				If the WebSocket handshake fails, ErrBadHandshake is returned along with a
				non-nil *http.Response so that callers can handle redirects, authentication,
				etcetera. The response body may not contain the entire response and does not
				need to be closed by the application.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Dialer-fold-values"><label for="Dialer-fold-values">As Types Of (<i>only one</i>)</label><span id='Dialer-fold-values-items' class="fold-items"><span>
			  var <a href="#name-DefaultDialer">DefaultDialer</a> *Dialer</span></span>

</span></div><div class="anchor type-res" id="name-FastHTTPHandler" data-popularity="35">	<input type='checkbox' class="fold" id="FastHTTPHandler-fold-content"><label for="FastHTTPHandler-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-29">FastHTTPHandler</a> <i>(func)</i></label><span id='FastHTTPHandler-fold-content-docs' class="fold-docs">
<span class="md-text">		FastHTTPHandler receives a websocket connection after the handshake has been
		completed. This must be provided.</span>

		<input type='checkbox' class="fold" id="FastHTTPHandler-fold-params"><label for="FastHTTPHandler-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='FastHTTPHandler-fold-params-items' class="fold-items"><span>
			func (*<a href="#name-FastHTTPUpgrader">FastHTTPUpgrader</a>).<a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-135">Upgrade</a>(ctx *<a href="../valyala/fasthttp.html">fasthttp</a>.<a href="../valyala/fasthttp.html#name-RequestCtx">RequestCtx</a>, handler <b>FastHTTPHandler</b>) <a href="../../builtin.html#name-error">error</a></span></span>

</span></div><div class="anchor type-res" id="name-FastHTTPUpgrader" data-popularity="50">	<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-content"><label for="FastHTTPUpgrader-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-33">FastHTTPUpgrader</a> <i>(struct)</i></label><span id='FastHTTPUpgrader-fold-content-docs' class="fold-docs">
<span class="md-text">		FastHTTPUpgrader specifies parameters for upgrading an HTTP connection to a
		WebSocket connection.</span>

		<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-fields"><label for="FastHTTPUpgrader-fold-fields">Fields (<i>total 8</i>)</label><span id='FastHTTPUpgrader-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-CheckOrigin"><label for="FastHTTPUpgrader-fold-field-CheckOrigin"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-73">CheckOrigin</a> <i>func(ctx *<a href="../valyala/fasthttp.html">fasthttp</a>.<a href="../valyala/fasthttp.html#name-RequestCtx">RequestCtx</a>) <a href="../../builtin.html#name-bool">bool</a></i></label><span id='FastHTTPUpgrader-fold-field-CheckOrigin-docs' class="fold-docs">
<span class="md-text">				CheckOrigin returns true if the request Origin header is acceptable. If
				CheckOrigin is nil, then a safe default is used: return false if the
				Origin request header is present and the origin host is not equal to
				request Host header.
				
				A CheckOrigin function should carefully validate the request origin to
				prevent cross-site request forgery.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-EnableCompression"><label for="FastHTTPUpgrader-fold-field-EnableCompression"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-79">EnableCompression</a> <i><a href="../../builtin.html#name-bool">bool</a></i></label><span id='FastHTTPUpgrader-fold-field-EnableCompression-docs' class="fold-docs">
<span class="md-text">				EnableCompression specify if the server should attempt to negotiate per
				message compression (RFC 7692). Setting this value to true does not
				guarantee that compression will be supported. Currently only "no context
				takeover" modes are supported.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-Error"><label for="FastHTTPUpgrader-fold-field-Error"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-64">Error</a> <i>func(ctx *<a href="../valyala/fasthttp.html">fasthttp</a>.<a href="../valyala/fasthttp.html#name-RequestCtx">RequestCtx</a>, status <a href="../../builtin.html#name-int">int</a>, reason <a href="../../builtin.html#name-error">error</a>)</i></label><span id='FastHTTPUpgrader-fold-field-Error-docs' class="fold-docs">
<span class="md-text">				Error specifies the function for generating HTTP error responses. If Error
				is nil, then http.Error is used to generate the HTTP response.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-HandshakeTimeout"><label for="FastHTTPUpgrader-fold-field-HandshakeTimeout"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-35">HandshakeTimeout</a> <i><a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a></i></label><span id='FastHTTPUpgrader-fold-field-HandshakeTimeout-docs' class="fold-docs">
<span class="md-text">				HandshakeTimeout specifies the duration for the handshake to complete.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-ReadBufferSize"><label for="FastHTTPUpgrader-fold-field-ReadBufferSize"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-41">ReadBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='FastHTTPUpgrader-fold-field-ReadBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then buffers allocated by the HTTP server are used. The
				I/O buffer sizes do not limit the size of the messages that can be sent
				or received.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-Subprotocols"><label for="FastHTTPUpgrader-fold-field-Subprotocols"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-60">Subprotocols</a> <i>[]<a href="../../builtin.html#name-string">string</a></i></label><span id='FastHTTPUpgrader-fold-field-Subprotocols-docs' class="fold-docs">
<span class="md-text">				Subprotocols specifies the server's supported protocols in order of
				preference. If this field is not nil, then the Upgrade method negotiates a
				subprotocol by selecting the first match in this list with a protocol
				requested by the client. If there's no match, then no protocol is
				negotiated (the Sec-Websocket-Protocol header is not included in the
				handshake response).</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-WriteBufferPool"><label for="FastHTTPUpgrader-fold-field-WriteBufferPool"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-52">WriteBufferPool</a> <i><a href="#name-BufferPool">BufferPool</a></i></label><span id='FastHTTPUpgrader-fold-field-WriteBufferPool-docs' class="fold-docs">
<span class="md-text">				WriteBufferPool is a pool of buffers for write operations. If the value
				is not set, then write buffers are allocated to the connection for the
				lifetime of the connection.
				
				A pool is most useful when the application has a modest volume of writes
				across a large number of connections.
				
				Applications should use a single pool for each unique value of
				WriteBufferSize.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-field-WriteBufferSize"><label for="FastHTTPUpgrader-fold-field-WriteBufferSize"><a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-41">WriteBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='FastHTTPUpgrader-fold-field-WriteBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then buffers allocated by the HTTP server are used. The
				I/O buffer sizes do not limit the size of the messages that can be sent
				or received.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-methods"><label for="FastHTTPUpgrader-fold-methods">Methods (<i>only one</i>)</label><span id='FastHTTPUpgrader-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="FastHTTPUpgrader-fold-method-Upgrade"><label for="FastHTTPUpgrader-fold-method-Upgrade">(*FastHTTPUpgrader) <a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-135">Upgrade</a>(ctx *<a href="../valyala/fasthttp.html">fasthttp</a>.<a href="../valyala/fasthttp.html#name-RequestCtx">RequestCtx</a>, handler <a href="#name-FastHTTPHandler">FastHTTPHandler</a>) <a href="../../builtin.html#name-error">error</a></label><span id='FastHTTPUpgrader-fold-method-Upgrade-docs' class="fold-docs">
<span class="md-text">				Upgrade upgrades the HTTP server connection to the WebSocket protocol.
				
				The responseHeader is included in the response to the client's upgrade
				request. Use the responseHeader to specify cookies (Set-Cookie) and the
				application negotiated subprotocol (Sec-WebSocket-Protocol).
				
				If the upgrade fails, then Upgrade replies to the client with an HTTP error
				response.</span>
</span></span></span>

</span></div><div class="anchor type-res" id="name-HandshakeError" data-popularity="100">	<input type='checkbox' class="fold" id="HandshakeError-fold-content"><label for="HandshakeError-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-21">HandshakeError</a> <i>(struct)</i></label><span id='HandshakeError-fold-content-docs' class="fold-docs">
<span class="md-text">		HandshakeError describes an error with the handshake from the peer.</span>

		<input type='checkbox' class="fold" id="HandshakeError-fold-methods"><label for="HandshakeError-fold-methods">Methods (<i>only one</i>)</label><span id='HandshakeError-fold-methods-items' class="fold-items"><span>
			<span class="nodocs">( HandshakeError) <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-25">Error</a>() <a href="../../builtin.html#name-string">string</a></span></span></span>
		<input type='checkbox' class="fold" id="HandshakeError-fold-impls"><label for="HandshakeError-fold-impls">Implements (<i>at least one exported</i>)</label><span id='HandshakeError-fold-impls-items' class="fold-items"><span>
			 HandshakeError : <a href="../../builtin.html#name-error">error</a></span></span>

</span></div><div class="anchor type-res" id="name-PreparedMessage" data-popularity="110">	<input type='checkbox' class="fold" id="PreparedMessage-fold-content"><label for="PreparedMessage-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/prepared.go.html#line-19">PreparedMessage</a> <i>(struct)</i></label><span id='PreparedMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		PreparedMessage caches on the wire representations of a message payload.
		Use PreparedMessage to efficiently send a message payload to multiple
		connections. PreparedMessage is especially useful when compression is used
		because the CPU and memory expensive compression operation can be executed
		once for a given set of compression options.</span>

		<input type='checkbox' class="fold" id="PreparedMessage-fold-results"><label for="PreparedMessage-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='PreparedMessage-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewPreparedMessage">NewPreparedMessage</a>(messageType <a href="../../builtin.html#name-int">int</a>, data []<a href="../../builtin.html#name-byte">byte</a>) (*<b>PreparedMessage</b>, <a href="../../builtin.html#name-error">error</a>)</span></span>
		<input type='checkbox' class="fold" id="PreparedMessage-fold-params"><label for="PreparedMessage-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='PreparedMessage-fold-params-items' class="fold-items"><span>
			func (*<a href="#name-Conn">Conn</a>).<a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-790">WritePreparedMessage</a>(pm *<b>PreparedMessage</b>) <a href="../../builtin.html#name-error">error</a></span></span>

</span></div><div class="anchor type-res" id="name-Upgrader" data-popularity="50">	<input type='checkbox' class="fold" id="Upgrader-fold-content"><label for="Upgrader-fold-content"> type <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-31">Upgrader</a> <i>(struct)</i></label><span id='Upgrader-fold-content-docs' class="fold-docs">
<span class="md-text">		Upgrader specifies parameters for upgrading an HTTP connection to a
		WebSocket connection.
		
		It is safe to call Upgrader's methods concurrently.</span>

		<input type='checkbox' class="fold" id="Upgrader-fold-fields"><label for="Upgrader-fold-fields">Fields (<i>total 8</i>)</label><span id='Upgrader-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-CheckOrigin"><label for="Upgrader-fold-field-CheckOrigin"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-71">CheckOrigin</a> <i>func(r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>) <a href="../../builtin.html#name-bool">bool</a></i></label><span id='Upgrader-fold-field-CheckOrigin-docs' class="fold-docs">
<span class="md-text">				CheckOrigin returns true if the request Origin header is acceptable. If
				CheckOrigin is nil, then a safe default is used: return false if the
				Origin request header is present and the origin host is not equal to
				request Host header.
				
				A CheckOrigin function should carefully validate the request origin to
				prevent cross-site request forgery.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-EnableCompression"><label for="Upgrader-fold-field-EnableCompression"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-77">EnableCompression</a> <i><a href="../../builtin.html#name-bool">bool</a></i></label><span id='Upgrader-fold-field-EnableCompression-docs' class="fold-docs">
<span class="md-text">				EnableCompression specify if the server should attempt to negotiate per
				message compression (RFC 7692). Setting this value to true does not
				guarantee that compression will be supported. Currently only "no context
				takeover" modes are supported.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-Error"><label for="Upgrader-fold-field-Error"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-62">Error</a> <i>func(w <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-ResponseWriter">ResponseWriter</a>, r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>, status <a href="../../builtin.html#name-int">int</a>, reason <a href="../../builtin.html#name-error">error</a>)</i></label><span id='Upgrader-fold-field-Error-docs' class="fold-docs">
<span class="md-text">				Error specifies the function for generating HTTP error responses. If Error
				is nil, then http.Error is used to generate the HTTP response.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-HandshakeTimeout"><label for="Upgrader-fold-field-HandshakeTimeout"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-33">HandshakeTimeout</a> <i><a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a></i></label><span id='Upgrader-fold-field-HandshakeTimeout-docs' class="fold-docs">
<span class="md-text">				HandshakeTimeout specifies the duration for the handshake to complete.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-ReadBufferSize"><label for="Upgrader-fold-field-ReadBufferSize"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-39">ReadBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='Upgrader-fold-field-ReadBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then buffers allocated by the HTTP server are used. The
				I/O buffer sizes do not limit the size of the messages that can be sent
				or received.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-Subprotocols"><label for="Upgrader-fold-field-Subprotocols"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-58">Subprotocols</a> <i>[]<a href="../../builtin.html#name-string">string</a></i></label><span id='Upgrader-fold-field-Subprotocols-docs' class="fold-docs">
<span class="md-text">				Subprotocols specifies the server's supported protocols in order of
				preference. If this field is not nil, then the Upgrade method negotiates a
				subprotocol by selecting the first match in this list with a protocol
				requested by the client. If there's no match, then no protocol is
				negotiated (the Sec-Websocket-Protocol header is not included in the
				handshake response).</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-WriteBufferPool"><label for="Upgrader-fold-field-WriteBufferPool"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-50">WriteBufferPool</a> <i><a href="#name-BufferPool">BufferPool</a></i></label><span id='Upgrader-fold-field-WriteBufferPool-docs' class="fold-docs">
<span class="md-text">				WriteBufferPool is a pool of buffers for write operations. If the value
				is not set, then write buffers are allocated to the connection for the
				lifetime of the connection.
				
				A pool is most useful when the application has a modest volume of writes
				across a large number of connections.
				
				Applications should use a single pool for each unique value of
				WriteBufferSize.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-field-WriteBufferSize"><label for="Upgrader-fold-field-WriteBufferSize"><a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-39">WriteBufferSize</a> <i><a href="../../builtin.html#name-int">int</a></i></label><span id='Upgrader-fold-field-WriteBufferSize-docs' class="fold-docs">
<span class="md-text">				ReadBufferSize and WriteBufferSize specify I/O buffer sizes in bytes. If a buffer
				size is zero, then buffers allocated by the HTTP server are used. The
				I/O buffer sizes do not limit the size of the messages that can be sent
				or received.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Upgrader-fold-methods"><label for="Upgrader-fold-methods">Methods (<i>only one</i>)</label><span id='Upgrader-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Upgrader-fold-method-Upgrade"><label for="Upgrader-fold-method-Upgrade">(*Upgrader) <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-128">Upgrade</a>(w <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-ResponseWriter">ResponseWriter</a>, r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>, responseHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>) (*<a href="#name-Conn">Conn</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Upgrader-fold-method-Upgrade-docs' class="fold-docs">
<span class="md-text">				Upgrade upgrades the HTTP server connection to the WebSocket protocol.
				
				The responseHeader is included in the response to the client's upgrade
				request. Use the responseHeader to specify cookies (Set-Cookie). To specify
				subprotocols supported by the server, set Upgrader.Subprotocols directly.
				
				If the upgrade fails, then Upgrade replies to the client with an HTTP error
				response.</span>
</span></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 12)</i></span></span>

<div class="anchor value-res" id="name-FastHTTPIsWebSocketUpgrade">	<input type='checkbox' class="fold" id="FastHTTPIsWebSocketUpgrade-fold-content"><label for="FastHTTPIsWebSocketUpgrade-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/server_fasthttp.go.html#line-224">FastHTTPIsWebSocketUpgrade</a>(ctx *<a href="../valyala/fasthttp.html">fasthttp</a>.<a href="../valyala/fasthttp.html#name-RequestCtx">RequestCtx</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='FastHTTPIsWebSocketUpgrade-fold-content-docs' class="fold-docs">
<span class="md-text">		FastHTTPIsWebSocketUpgrade returns true if the client requested upgrade to the
		WebSocket protocol.</span>

</span></div><div class="anchor value-res" id="name-FormatCloseMessage">	<input type='checkbox' class="fold" id="FormatCloseMessage-fold-content"><label for="FormatCloseMessage-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-1356">FormatCloseMessage</a>(closeCode <a href="../../builtin.html#name-int">int</a>, text <a href="../../builtin.html#name-string">string</a>) []<a href="../../builtin.html#name-byte">byte</a></label><span id='FormatCloseMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		FormatCloseMessage formats closeCode and text as a WebSocket close message.
		An empty message is returned for code CloseNoStatusReceived.</span>

</span></div><div class="anchor value-res" id="name-IsCloseError">	<input type='checkbox' class="fold" id="IsCloseError-fold-content"><label for="IsCloseError-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-151">IsCloseError</a>(err <a href="../../builtin.html#name-error">error</a>, codes ...<a href="../../builtin.html#name-int">int</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='IsCloseError-fold-content-docs' class="fold-docs">
<span class="md-text">		IsCloseError returns boolean indicating whether the error is a *CloseError
		with one of the specified codes.</span>

</span></div><div class="anchor value-res" id="name-IsUnexpectedCloseError">	<input type='checkbox' class="fold" id="IsUnexpectedCloseError-fold-content"><label for="IsUnexpectedCloseError-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-164">IsUnexpectedCloseError</a>(err <a href="../../builtin.html#name-error">error</a>, expectedCodes ...<a href="../../builtin.html#name-int">int</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='IsUnexpectedCloseError-fold-content-docs' class="fold-docs">
<span class="md-text">		IsUnexpectedCloseError returns boolean indicating whether the error is a
		*CloseError with a code not in the list of expected codes.</span>

</span></div><div class="anchor value-res" id="name-IsWebSocketUpgrade">	<input type='checkbox' class="fold" id="IsWebSocketUpgrade-fold-content"><label for="IsWebSocketUpgrade-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-345">IsWebSocketUpgrade</a>(r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>) <a href="../../builtin.html#name-bool">bool</a></label><span id='IsWebSocketUpgrade-fold-content-docs' class="fold-docs">
<span class="md-text">		IsWebSocketUpgrade returns true if the client requested upgrade to the
		WebSocket protocol.</span>

</span></div><div class="anchor value-res" id="name-JoinMessages">	<input type='checkbox' class="fold" id="JoinMessages-fold-content"><label for="JoinMessages-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/join.go.html#line-15">JoinMessages</a>(c *<a href="#name-Conn">Conn</a>, term <a href="../../builtin.html#name-string">string</a>) <a href="../../io.html">io</a>.<a href="../../io.html#name-Reader">Reader</a></label><span id='JoinMessages-fold-content-docs' class="fold-docs">
<span class="md-text">		JoinMessages concatenates received messages to create a single io.Reader.
		The string term is appended to each message. The returned reader does not
		support concurrent calls to the Read method.</span>

</span></div><div class="anchor value-res" id="name-NewClient">	<input type='checkbox' class="fold" id="NewClient-fold-content"><label for="NewClient-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-42">NewClient</a>(netConn <a href="../../net.html">net</a>.<a href="../../net.html#name-Conn">Conn</a>, u *<a href="../../net/url.html">url</a>.<a href="../../net/url.html#name-URL">URL</a>, requestHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>, readBufSize, writeBufSize <a href="../../builtin.html#name-int">int</a>) (c *<a href="#name-Conn">Conn</a>, response *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Response">Response</a>, err <a href="../../builtin.html#name-error">error</a>)</label><span id='NewClient-fold-content-docs' class="fold-docs">
<span class="md-text">		NewClient creates a new client connection using the given net connection.
		The URL u specifies the host and request URI. Use requestHeader to specify
		the origin (Origin), subprotocols (Sec-WebSocket-Protocol) and cookies
		(Cookie). Use the response.Header to get the selected subprotocol
		(Sec-WebSocket-Protocol) and cookies (Set-Cookie).
		
		If the WebSocket handshake fails, ErrBadHandshake is returned along with a
		non-nil *http.Response so that callers can handle redirects, authentication,
		etc.
		
		Deprecated: Use Dialer instead.</span>

</span></div><div class="anchor value-res" id="name-NewPreparedMessage">	<input type='checkbox' class="fold" id="NewPreparedMessage-fold-content"><label for="NewPreparedMessage-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/prepared.go.html#line-43">NewPreparedMessage</a>(messageType <a href="../../builtin.html#name-int">int</a>, data []<a href="../../builtin.html#name-byte">byte</a>) (*<a href="#name-PreparedMessage">PreparedMessage</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='NewPreparedMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		NewPreparedMessage returns an initialized PreparedMessage. You can then send
		it to connection using WritePreparedMessage method. Valid wire
		representation will be calculated lazily only once for a set of current
		connection options.</span>

</span></div><div class="anchor value-res" id="name-ReadJSON">	<input type='checkbox' class="fold" id="ReadJSON-fold-content"><label for="ReadJSON-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/json.go.html#line-40">ReadJSON</a>(c *<a href="#name-Conn">Conn</a>, v interface{}) <a href="../../builtin.html#name-error">error</a></label><span id='ReadJSON-fold-content-docs' class="fold-docs">
<span class="md-text">		ReadJSON reads the next JSON-encoded message from the connection and stores
		it in the value pointed to by v.
		
		Deprecated: Use c.ReadJSON instead.</span>

</span></div><div class="anchor value-res" id="name-Subprotocols">	<input type='checkbox' class="fold" id="Subprotocols-fold-content"><label for="Subprotocols-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-331">Subprotocols</a>(r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>) []<a href="../../builtin.html#name-string">string</a></label><span id='Subprotocols-fold-content-docs' class="fold-docs">
<span class="md-text">		Subprotocols returns the subprotocols requested by the client in the
		Sec-Websocket-Protocol header.</span>

</span></div><div class="anchor value-res" id="name-Upgrade">	<input type='checkbox' class="fold" id="Upgrade-fold-content"><label for="Upgrade-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/server.go.html#line-317">Upgrade</a>(w <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-ResponseWriter">ResponseWriter</a>, r *<a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Request">Request</a>, responseHeader <a href="../../net/http.html">http</a>.<a href="../../net/http.html#name-Header">Header</a>, readBufSize, writeBufSize <a href="../../builtin.html#name-int">int</a>) (*<a href="#name-Conn">Conn</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Upgrade-fold-content-docs' class="fold-docs">
<span class="md-text">		Upgrade upgrades the HTTP server connection to the WebSocket protocol.
		
		Deprecated: Use websocket.Upgrader instead.
		
		Upgrade does not perform origin checking. The application is responsible for
		checking the Origin header before calling Upgrade. An example implementation
		of the same origin policy check is:
		
			if req.Header.Get("Origin") != "http://"+req.Host {
				http.Error(w, "Origin not allowed", http.StatusForbidden)
				return
			}
		
		If the endpoint supports subprotocols, then the application is responsible
		for negotiating the protocol used on the connection. Use the Subprotocols()
		function to get the subprotocols requested by the client. Use the
		Sec-Websocket-Protocol response header to specify the subprotocol selected
		by the application.
		
		The responseHeader is included in the response to the client's upgrade
		request. Use the responseHeader to specify cookies (Set-Cookie) and the
		negotiated subprotocol (Sec-Websocket-Protocol).
		
		The connection buffers IO to the underlying network connection. The
		readBufSize and writeBufSize parameters specify the size of the buffers to
		use. Messages can be larger than the buffers.
		
		If the request is not a valid WebSocket handshake, then Upgrade returns an
		error of type HandshakeError. Applications should handle this error by
		replying to the client with an HTTP error response.</span>

</span></div><div class="anchor value-res" id="name-WriteJSON">	<input type='checkbox' class="fold" id="WriteJSON-fold-content"><label for="WriteJSON-fold-content"> func <a href="../../../src/github.com/fasthttp/websocket/json.go.html#line-15">WriteJSON</a>(c *<a href="#name-Conn">Conn</a>, v interface{}) <a href="../../builtin.html#name-error">error</a></label><span id='WriteJSON-fold-content-docs' class="fold-docs">
<span class="md-text">		WriteJSON writes the JSON encoding of v as a message.
		
		Deprecated: Use c.WriteJSON instead.</span>

</span></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 6)</i></span></span>

<div class="anchor value-res" id="name-DefaultDialer">	<input type='checkbox' class="fold" id="DefaultDialer-fold-content"><label for="DefaultDialer-fold-content">  var <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-143">DefaultDialer</a> *<a href="#name-Dialer">Dialer</a></label><span id='DefaultDialer-fold-content-docs' class="fold-docs">
<span class="md-text">		DefaultDialer is a dialer with all fields set to the default values.</span>

</span></div><div class="anchor value-res" id="name-ErrBadHandshake">	<input type='checkbox' class="fold" id="ErrBadHandshake-fold-content"><label for="ErrBadHandshake-fold-content">  var <a href="../../../src/github.com/fasthttp/websocket/client.go.html#line-27">ErrBadHandshake</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrBadHandshake-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrBadHandshake is returned when the server response to opening handshake is
		invalid.</span>

</span></div><div class="anchor value-res" id="name-ErrCloseSent">	<input type='checkbox' class="fold" id="ErrCloseSent-fold-content"><label for="ErrCloseSent-fold-content">  var <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-87">ErrCloseSent</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrCloseSent-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrCloseSent is returned when the application writes a message to the
		connection after sending a close message.</span>

</span></div><div class="anchor value-res" id="name-ErrNilConn">	<span class="nodocs">  var <a href="../../../src/github.com/fasthttp/websocket/errors.go.html#line-6">ErrNilConn</a> <a href="../../builtin.html#name-error">error</a></span></div><div class="anchor value-res" id="name-ErrNilNetConn">	<span class="nodocs">  var <a href="../../../src/github.com/fasthttp/websocket/errors.go.html#line-7">ErrNilNetConn</a> <a href="../../builtin.html#name-error">error</a></span></div><div class="anchor value-res" id="name-ErrReadLimit">	<input type='checkbox' class="fold" id="ErrReadLimit-fold-content"><label for="ErrReadLimit-fold-content">  var <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-91">ErrReadLimit</a> <a href="../../builtin.html#name-error">error</a></label><span id='ErrReadLimit-fold-content-docs' class="fold-docs">
<span class="md-text">		ErrReadLimit is returned when reading a message that is larger than the
		read limit set for the connection.</span>

</span></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 19)</i></span></span>

<div class="anchor value-res" id="name-BinaryMessage">	<input type='checkbox' class="fold" id="BinaryMessage-fold-content"><label for="BinaryMessage-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-69">BinaryMessage</a> = 2</label><span id='BinaryMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		BinaryMessage denotes a binary data message.</span>

</span></div><div class="anchor value-res" id="name-CloseAbnormalClosure">	<input type='checkbox' class="fold" id="CloseAbnormalClosure-fold-content"><label for="CloseAbnormalClosure-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-51">CloseAbnormalClosure</a> = 1006</label><span id='CloseAbnormalClosure-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseGoingAway">	<input type='checkbox' class="fold" id="CloseGoingAway-fold-content"><label for="CloseGoingAway-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-47">CloseGoingAway</a> = 1001</label><span id='CloseGoingAway-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseInternalServerErr">	<input type='checkbox' class="fold" id="CloseInternalServerErr-fold-content"><label for="CloseInternalServerErr-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-56">CloseInternalServerErr</a> = 1011</label><span id='CloseInternalServerErr-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseInvalidFramePayloadData">	<input type='checkbox' class="fold" id="CloseInvalidFramePayloadData-fold-content"><label for="CloseInvalidFramePayloadData-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-52">CloseInvalidFramePayloadData</a> = 1007</label><span id='CloseInvalidFramePayloadData-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseMandatoryExtension">	<input type='checkbox' class="fold" id="CloseMandatoryExtension-fold-content"><label for="CloseMandatoryExtension-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-55">CloseMandatoryExtension</a> = 1010</label><span id='CloseMandatoryExtension-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseMessage">	<input type='checkbox' class="fold" id="CloseMessage-fold-content"><label for="CloseMessage-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-74">CloseMessage</a> = 8</label><span id='CloseMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		CloseMessage denotes a close control message. The optional message
		payload contains a numeric code and text. Use the FormatCloseMessage
		function to format a close message payload.</span>

</span></div><div class="anchor value-res" id="name-CloseMessageTooBig">	<input type='checkbox' class="fold" id="CloseMessageTooBig-fold-content"><label for="CloseMessageTooBig-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-54">CloseMessageTooBig</a> = 1009</label><span id='CloseMessageTooBig-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseNormalClosure">	<input type='checkbox' class="fold" id="CloseNormalClosure-fold-content"><label for="CloseNormalClosure-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-46">CloseNormalClosure</a> = 1000</label><span id='CloseNormalClosure-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseNoStatusReceived">	<input type='checkbox' class="fold" id="CloseNoStatusReceived-fold-content"><label for="CloseNoStatusReceived-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-50">CloseNoStatusReceived</a> = 1005</label><span id='CloseNoStatusReceived-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-ClosePolicyViolation">	<input type='checkbox' class="fold" id="ClosePolicyViolation-fold-content"><label for="ClosePolicyViolation-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-53">ClosePolicyViolation</a> = 1008</label><span id='ClosePolicyViolation-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseProtocolError">	<input type='checkbox' class="fold" id="CloseProtocolError-fold-content"><label for="CloseProtocolError-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-48">CloseProtocolError</a> = 1002</label><span id='CloseProtocolError-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseServiceRestart">	<input type='checkbox' class="fold" id="CloseServiceRestart-fold-content"><label for="CloseServiceRestart-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-57">CloseServiceRestart</a> = 1012</label><span id='CloseServiceRestart-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseTLSHandshake">	<input type='checkbox' class="fold" id="CloseTLSHandshake-fold-content"><label for="CloseTLSHandshake-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-59">CloseTLSHandshake</a> = 1015</label><span id='CloseTLSHandshake-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseTryAgainLater">	<input type='checkbox' class="fold" id="CloseTryAgainLater-fold-content"><label for="CloseTryAgainLater-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-58">CloseTryAgainLater</a> = 1013</label><span id='CloseTryAgainLater-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-CloseUnsupportedData">	<input type='checkbox' class="fold" id="CloseUnsupportedData-fold-content"><label for="CloseUnsupportedData-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-49">CloseUnsupportedData</a> = 1003</label><span id='CloseUnsupportedData-fold-content-docs' class="fold-docs">
<span class="md-text">		Close codes defined in RFC 6455, section 11.7.</span>

</span></div><div class="anchor value-res" id="name-PingMessage">	<input type='checkbox' class="fold" id="PingMessage-fold-content"><label for="PingMessage-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-78">PingMessage</a> = 9</label><span id='PingMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		PingMessage denotes a ping control message. The optional message payload
		is UTF-8 encoded text.</span>

</span></div><div class="anchor value-res" id="name-PongMessage">	<input type='checkbox' class="fold" id="PongMessage-fold-content"><label for="PongMessage-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-82">PongMessage</a> = 10</label><span id='PongMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		PongMessage denotes a pong control message. The optional message payload
		is UTF-8 encoded text.</span>

</span></div><div class="anchor value-res" id="name-TextMessage">	<input type='checkbox' class="fold" id="TextMessage-fold-content"><label for="TextMessage-fold-content">const <a href="../../../src/github.com/fasthttp/websocket/conn.go.html#line-66">TextMessage</a> = 1</label><span id='TextMessage-fold-content-docs' class="fold-docs">
<span class="md-text">		TextMessage denotes a text data message. The text message payload is
		interpreted as UTF-8 encoded text data.</span>

</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.8</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>